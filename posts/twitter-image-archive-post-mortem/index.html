<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.116.1"><title>Twitter Image Archive ê°œë°œ í¬ìŠ¤íŠ¸ëª¨í…œ - if1live space</title><meta name=author content="if1live"><meta name=title content="Twitter Image Archive ê°œë°œ í¬ìŠ¤íŠ¸ëª¨í…œ"><meta name=description content="ê°œìš” íŠ¸ìœ—ì„ ì‹¹ ì§€ìš°ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. íŠ¸ìœ„í„°ì—ëŠ” ê°œì†Œë¦¬ë§Œ ì‹¸ì§ˆë €ì§€ë§Œ ê·¸ë˜ë„ ì“¸ë§Œí•œ ë°ì´í„°ë¥¼ ì–»ì„ìˆ˜ ìˆì§€ ì•Šì„ê¹Œí•´ì„œ ë°±ì—…ì„ í•˜ê³  íŠ¸ìœ—ì„ ì§€ìš°ê¸°ë¡œ ë§ˆìŒë¨¹ì—ˆë‹¤"><meta name=keywords content="twitter,postmortem"><meta name=naver-site-verification content="2ddc1a56777489f4a64a4f6a59822f8b1c1ea502"><meta name=google-site-verification content="VsvNNnJZUV-iLEYKNju16p-HtDqZeqL15H-VVy-HwpA"><meta name=gc:client-id content="785d47c81cbc2fd42b65"><meta name=gc:client-secret content="5e5d558f0b16fae154aa47fc9d94f7c09e540ec7"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><script type=text/javascript>var host="if1live.github.io";host==window.location.host&&window.location.protocol!="https:"?window.location.protocol="https":console.log("skip https redirect")</script><link rel=stylesheet href=/css/style.ad6245cc6a90c30a30dba42b8bbe9be63bed9ea169e339d8ecfc6b9afc6eb8382bbd422b2d31dc71c3355c79f057ddcaa7e1ca96b5eb7f5f16a28a34e74051db.css integrity="sha512-rWJFzGqQwwow26Qri76b5jvtnqFp4znY7PxrmvxuuDgrvUIrLTHcccM1XHnwV93Kp+HKlrXrf18Wooo050BR2w=="><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin=anonymous><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-3043297488880636",enable_page_level_ads:!0})</script><meta property="og:title" content="Twitter Image Archive ê°œë°œ í¬ìŠ¤íŠ¸ëª¨í…œ"><meta property="og:description" content="ê°œìš” íŠ¸ìœ—ì„ ì‹¹ ì§€ìš°ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. íŠ¸ìœ„í„°ì—ëŠ” ê°œì†Œë¦¬ë§Œ ì‹¸ì§ˆë €ì§€ë§Œ ê·¸ë˜ë„ ì“¸ë§Œí•œ ë°ì´í„°ë¥¼ ì–»ì„ìˆ˜ ìˆì§€ ì•Šì„ê¹Œí•´ì„œ ë°±ì—…ì„ í•˜ê³  íŠ¸ìœ—ì„ ì§€ìš°ê¸°ë¡œ ë§ˆìŒë¨¹ì—ˆë‹¤"><meta property="og:type" content="article"><meta property="og:url" content="https://if1live.github.io/posts/twitter-image-archive-post-mortem/"><meta property="og:image" content="https://www.gravatar.com/avatar/fb9672e7e0d256f39369595381d1ea07?size=160"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-03-17T00:00:00+00:00"><meta property="article:modified_time" content="2016-03-17T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.gravatar.com/avatar/fb9672e7e0d256f39369595381d1ea07?size=160"><meta name=twitter:title content="Twitter Image Archive ê°œë°œ í¬ìŠ¤íŠ¸ëª¨í…œ"><meta name=twitter:description content="ê°œìš” íŠ¸ìœ—ì„ ì‹¹ ì§€ìš°ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤. íŠ¸ìœ„í„°ì—ëŠ” ê°œì†Œë¦¬ë§Œ ì‹¸ì§ˆë €ì§€ë§Œ ê·¸ë˜ë„ ì“¸ë§Œí•œ ë°ì´í„°ë¥¼ ì–»ì„ìˆ˜ ìˆì§€ ì•Šì„ê¹Œí•´ì„œ ë°±ì—…ì„ í•˜ê³  íŠ¸ìœ—ì„ ì§€ìš°ê¸°ë¡œ ë§ˆìŒë¨¹ì—ˆë‹¤"><meta name=twitter:site content="@if1live"><script async src="https://www.googletagmanager.com/gtag/js?id=G-SKE54STL16"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SKE54STL16",{anonymize_ip:!1})}</script></head><body><nav class=sora-navigation><a href=/ title=home><h1>if1live space</h1></a><ul class=menu-button-list><li><a href=/posts title=archive><i class="fa-solid fa-box-archive"></i>
<span hidden>archive</span></a></li><li><a href=/tags title=tags><i class="fa-solid fa-tags"></i>
<span hidden>tags</span></a></li><li><a href=//github.com/if1live title=GitHub><i class="fa-brands fa-github"></i>
<span hidden>GitHub</span></a></li><li><a href=/about title=about><i class="fa-solid fa-info"></i>
<span hidden>about</span></a></li><li><a href=https://if1live.github.io/index.xml title=RSS><i class="fa-solid fa-rss"></i>
<span hidden>RSS</span></a></li></ul></nav><div class=main><section id=single><h1 class=title><span>Twitter Image Archive ê°œë°œ í¬ìŠ¤íŠ¸ëª¨í…œ</span><br><small>íŠ¸ìœ„í„° ê³„ì • í­íŒŒì‹œí‚¤ê¸° ì „ì— ì§¤ ë°±ì—…í•˜ê¸°</small></h1><div class=tip><time datetime="2016-03-17 00:00:00 +0000 UTC">2016. 03. 17</time></div><div class=content><h2 id=ê°œìš”>ê°œìš”</h2><p>íŠ¸ìœ—ì„ ì‹¹ ì§€ìš°ê³  ì‹¶ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.
íŠ¸ìœ„í„°ì—ëŠ” ê°œì†Œë¦¬ë§Œ ì‹¸ì§ˆë €ì§€ë§Œ ê·¸ë˜ë„ ì“¸ë§Œí•œ ë°ì´í„°ë¥¼ ì–»ì„ìˆ˜ ìˆì§€ ì•Šì„ê¹Œí•´ì„œ ë°±ì—…ì„ í•˜ê³  íŠ¸ìœ—ì„ ì§€ìš°ê¸°ë¡œ ë§ˆìŒë¨¹ì—ˆë‹¤.
ìš°ì„ ì€ íŠ¸ìœ„í„°ì—ì„œ ì œê³µí•˜ëŠ” ì•„ì¹´ì´ë¸Œë¥¼ ë°›ì•˜ë‹¤.
ë°›ì€ê±´ ì¢‹ì€ë° ì—¬ê¸°ì—ëŠ” íŠ¸ìœ— ë°ì´í„°(ë‚´ê°€ ì“´ íŠ¸ìœ—, RTí•œ íŠ¸ìœ—)ë§Œ ë‚¨ì•„ìˆë”ë¼.
ë‚´ê°€ ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ë‚˜ ë¦¬íŠ¸ìœ—í•œ ì´ë¯¸ì§€ ìì²´ë¥¼ ì•„ì¹´ì´ë¸Œì— í¬í•¨ë˜ì–´ìˆì§€ ì•Šê³  ë§í¬ë§Œ ìˆë”ë¼.
ê·¸ë˜ì„œ ì•„ì¹´ì´ë¸Œí•œ íŠ¸ìœ— ë°ì´í„°ì—ì„œ ì´ë¯¸ì§€ URL ì •ë³´ë¥¼ ì „ë¶€ ë½‘ì•„ë‚´ì„œ ë‹¤ìš´ë°›ëŠ” ê²ƒì„ ë§Œë“¤ê¸°ë¡œ í–ˆë‹¤.</p><ul><li>ëª©í‘œ : íŠ¸ìœ„í„° ì•„ì¹´ì´ë¸Œì˜ ëª¨ë“  ë‚´ìš©ì„ ì˜¤í”„ë¼ì¸ì—ì„œ ë³¼ìˆ˜ ìˆì–´ì•¼í•œë‹¤. (ì£¼ë¡œ ì´ë¯¸ì§€)</li><li>ì‚¬ìš©í•œ ì–¸ì–´ : NodeJS</li><li>ê°œë°œê¸°ê°„<ul><li>2016/03/04 : í”„ë¡œì íŠ¸ ë°©í–¥ ê²°ì •</li><li>2016/03/05 : ì‹¤ì œ ê°œë°œ</li></ul></li></ul><h2 id=ì–´ë–»ê²Œ-ë§Œë“¤ê²ƒì¸ê°€>ì–´ë–»ê²Œ ë§Œë“¤ê²ƒì¸ê°€?</h2><p>íŠ¸ìœ„í„° ì•„ì¹´ì´ë¸Œë¥¼ ì—´ì–´ë³´ë©´ íŠ¸ìœ— ë°ì´í„°ê°€ <code>data/js/tweets/2016_03.js</code> ê°™ì€ ìœ„ì¹˜ì— ì €ì¥ë˜ì–´ìˆë‹¤.
í•´ë‹¹ íŒŒì¼ì„ ì—´ì–´ë³´ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ë¡œ ê°ê°ì˜ íŠ¸ìœ— ì •ë³´ê°€ ê¸°ë¡ë˜ì–´ìˆë‹¤.
ì­‰ ì½ì–´ë³´ë‹ˆê¹Œ ì´ë¯¸ì§€ì™€ ê´€ë ¨ëœ URLì€ <code>media_url</code>, <code>media_url_https</code>, <code>profile_image_url_https</code> ê°€ ìˆë”ë¼.</p><pre><code class="language-json line-numbers">{
  &#34;source&#34; : &#34;\u003Ca href=\&#34;https:\/\/about.twitter.com\/products\/....&#34;,
  &#34;entities&#34; : {
    &#34;user_mentions&#34; : [ { ... } ],
      &#34;media_url&#34; : &#34;http:\/\/pbs.twimg.com\/media\/CcYQxY1UMAA1SZj.jpg&#34;,
      &#34;media_url_https&#34; : &#34;https:\/\/pbs.twimg.com\/media\/CcYQxY1UMAA1SZj.jpg&#34;,
      ...
    }, {
      &#34;media_url&#34; : &#34;http:\/\/pbs.twimg.com\/media\/CcYQyWkVAAA1EWK.jpg&#34;,
      &#34;media_url_https&#34; : &#34;https:\/\/pbs.twimg.com\/media\/CcYQyWkVAAA1EWK.jpg&#34;,
      ...
    } ],
    ...
  },
  ...
  &#34;retweeted_status&#34; : {
    &#34;source&#34; : &#34;\u003Ca href=\&#34;http:\/\/twitter.com\/download\/...&#34;,
    &#34;entities&#34; : {
      &#34;user_mentions&#34; : [ ],
      &#34;media&#34; : [ {
        &#34;media_url&#34; : &#34;http:\/\/pbs.twimg.com\/media\/CcYQxY1UMAA1SZj.jpg&#34;,
        &#34;media_url_https&#34; : &#34;https:\/\/pbs.twimg.com\/media\/CcYQxY1UMAA1SZj.jpg&#34;,
        ...
      }, {
        &#34;media_url&#34; : &#34;http:\/\/pbs.twimg.com\/media\/CcYQyWkVAAA1EWK.jpg&#34;,
        &#34;media_url_https&#34; : &#34;https:\/\/pbs.twimg.com\/media\/CcYQyWkVAAA1EWK.jpg&#34;,
        ...
      } ],
      ...
    },
    ...
    &#34;user&#34; : {
      &#34;screen_name&#34; : &#34;gckbook&#34;,
      &#34;profile_image_url_https&#34; : &#34;https:\/\/pbs.twimg.com\/profile_images\/1682141341\/____logo_normal.jpg&#34;,
      ...
    }
  },
  &#34;id&#34; : 704292650828984320,
  &#34;created_at&#34; : &#34;2016-02-29 13:10:27 &#43;0000&#34;,
  &#34;user&#34; : {
    ...
    &#34;profile_image_url_https&#34; : &#34;https:\/\/pbs.twimg.com\/profile_images\/671688812007809024\/4vIrI5gJ_normal.png&#34;,
    ...
  }
}</code></pre><p>íŠ¸ìœ„í„° ì•„ì¹´ì´ë¸Œì— í¬í•¨ëœ ë·°ì–´ì˜ ê²½ìš°ëŠ” í•´ë‹¹ JSONì„ ì½ì–´ì„œ ì ì ˆíˆ ë³´ì—¬ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ë™í•˜ë”ë¼.</p><p><p class=markdown-image><img src=external-image-link.png alt="not-offline mode"></p></p><p>ë§Œì•½ íŠ¸ìœ— ë°ì´í„° íŒŒì¼ì„ ì¡°ì‘í•´ì„œ
<code>"media_url" : "https:\/\/pbs.twimg.com\/media\/sample.png"</code>
ëŒ€ì‹ 
<code>"media_url" : "\/cache\/pbs.twimg.com\/media\/sample.png"</code>
ë¡œ ë°”ê¿”ì¹˜ê³  <code>https://pbs.twimg.com/media/sample.png</code>ë¥¼ ë‹¤ìš´ë°›ì•„ì„œ
<code>/cache/pbs.twimg.com/media/sample.png</code>ë¡œ ì €ì¥í•´ë‘ë©´ ê¸°ì¡´ì˜ íŠ¸ìœ„í„° ì•„ì¹´ì´ë¸Œ ë·°ì–´ë¥¼ ê·¸ëŒ€ë¡œ ì“¸ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ?</p><h2 id=êµ¬ì¡°>êµ¬ì¡°</h2><ol><li><code>data/js/tweets/</code>ì—ì„œ <code>YYYY_MM.js</code>ì—ì„œ ì´ë¯¸ì§€ URLì„ ì „ë¶€ ì¶”ì¶œí•œë‹¤</li><li>ëª¨ë“  URLì— ëŒ€í•´ì„œ <code>http://foo.com/media/sample.png</code>ì™€ ê°™ì€ ë§í¬ë¥¼ ë°›ì•„ì„œ <code>/cache/foo.com/media/sample.png</code>ë¡œ ì €ì¥í•œë‹¤.</li><li>íŠ¸ìœ— ë°ì´í„°ì—ì„œ ê¸°ì¡´ URLì„ ìƒˆë¡œìš´ URLë¡œ êµì²´í•œë‹¤.</li><li>ë¡œì»¬ì—ì„œ ì„œë²„ë¥¼ ë„ìš°ê³  ì˜¤í”„ë¼ì¸ ìƒíƒœì—ì„œ ì´ë¯¸ì§€ê°€ ì˜ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸í•œë‹¤.</li></ol><p>ëª©í‘œëŠ” ê°„ë‹¨í•˜ë‹¤.
ë¬¸ì œëŠ” NodeJSë¥¼ ì˜¤ëœë§Œì— ì“°ë‹¤ë³´ë‹ˆ ì‰½ê²Œ ëë‚ ê±°ê°™ì€ ì‘ì—…ì´ ìƒê°ë³´ë‹¤ ê¸¸ì–´ì§€ê²Œ ë˜ëŠ”ë°&mldr;</p><h2 id=ì‚½ì§ˆ1-too-many-request>ì‚½ì§ˆ1. TOO MANY REQUEST</h2><p>ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì¥ì ì´ë¼ë©´ ì—­ì‹œ ë¹„ë™ê¸°ê² ì§€?
ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì§°ìœ¼ë©´ ì“°ë ˆë“œë¼ë„ ê°–ê³  ì˜¤ì§€ ì•ŠëŠ” ì´ìƒ ì´ë¯¸ì§€ í•˜ë‚˜ ë°›ëŠ”ë™ì•ˆ ì‹¤í–‰ì´ blockê±¸ë¦´ê±°ë‹¤.
URL ëª©ë¡ì„ ë½‘ì•„ë³´ë‹ˆê¹Œ ë°›ì•„ì•¼í•˜ëŠ” ì´ë¯¸ì§€ê°€ ëª‡ë§Œê°œë”ë¼. ë™ê¸°ì ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ í•˜ë‚˜ì”© ë°›ì€ê±´ ì—­ì‹œ ë¯¸ì¹œì§“ê°™ë‹¤.
ë¹„ë™ê¸°ë¼ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì¥ì ì„ ì‚´ë ¤ì„œ ëª‡ë§Œê°œì˜ ì´ë¯¸ì§€ë¥¼ ë™ì‹œì— ë°›ìœ¼ë©´ ì‘ì—…ì´ í›¨ì”¬ë” ë¹¨ë¦¬ ëë‚ ê±°ë‹¤.</p><p>ë¼ê³  ìƒê°í•˜ê³  ì²˜ìŒì—ëŠ” ê°œë°œì„ ì‹œì‘í–ˆì§€ë§Œ ë¬¸ì œê°€ ìƒê²¼ë‹¤.
í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¡œ ì´ë¯¸ì§€ ëª‡ì‹­ê°œë¥¼ ë™ì‹œì— ë°›ì„ë•ŒëŠ” ë¬¸ì œê°€ ì—†ì—ˆëŠ”ë° ì‹¤ì œ ë°ì´í„°ë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ ë¬¸ì œê°€ ìƒê¸°ë”ë¼.
ë¹„ë™ê¸° ë•ë¶„ì— ì´ë¯¸ì§€URL ê°¯ìˆ˜ë§Œí¼ì˜ HTTP ìš”ì²­ì„ ë™ì‹œì— ë‚ ë¦¬ëŠ”ë° URLê°¯ìˆ˜ê°€ ë„ˆë¬´ ë§ë‹¤ë³´ë‹ˆ ì‹¤í–‰ì´ ì˜¤ë˜ê±¸ë ¤ì„œ íƒ€ì„ì•„ì›ƒê°™ì€ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œë¡œ ì£½ëŠ”ê±°ê°™ë”ë¼.</p><p>ê·¸ë˜ì„œ <a href=https://github.com/caolan/async>async</a>ì˜ <code>.eachLimit()</code>ë¥¼ ì´ìš©í•´ì„œ ë™ì‹œì— Nê°œì˜ ì´ë¯¸ì§€ë§Œ ë°›ë„ë¡ ì œí•œí–ˆë‹¤.</p><pre><code class="language-js line-numbers">async.eachLimit(links, 5, function(uri, callback) {
  doSomething();
  callback();
}</code></pre><h2 id=ì‚½ì§ˆ2-ë¹„ë™ê¸°-ì–´ë ¤ì›Œìš”>ì‚½ì§ˆ2. ë¹„ë™ê¸° ì–´ë ¤ì›Œìš”</h2><p>í”„ë¡œê·¸ë¨ì˜ êµ¬ì¡°ë¥¼ ë‹¤ì‹œ ë³´ì.</p><ol><li>URL ëª©ë¡ ë½‘ê¸°</li><li>URL ì „ë¶€ ë°›ê¸°</li><li>ë°ì´í„° íŒŒì¼ ê°±ì‹ </li></ol><p>ì„¤ê³„ ìì²´ê°€ 1ë‹¨ê³„ê°€ ì™„ì „íˆ ëë‚˜ê³  2ë‹¨ê³„ë¥¼ ì‹œì‘í•˜ê³ , 2ë‹¨ê³„ê°€ ì™„ì „íˆ ëë‚˜ê³  3ë‹¨ê³„ë¥¼ ì§„í–‰í•˜ëŠ” ë°©ì‹ì´ë‹¤.
ì¦‰ êµ¬ì¡° ìì²´ê°€ ë™ê¸°ì ìœ¼ë¡œ ì‘ë™í•œë‹¤.
ê·¼ë° ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¹„ë™ê¸°ì–ì•„?
<a href=https://en.wikipedia.org/wiki/Busy_waiting>Busy waiting</a>ê°™ì€ ì»¨ì…‰ìœ¼ë¡œ ìœ„ì—ì„œ ë¹„ë™ê¸° ì‘ì—…ì„ ê±¸ì–´ë‘”ê²Œ ëë‚ ë•Œê¹Œì§€ <code>sleep()</code> í•˜ê³  ì‹¶ì–´ë„ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” sleep í•¨ìˆ˜ê°€ ì—†ë‹¤.
(í¸ë²•ìœ¼ë¡œ sleepë¥¼ í‰ë‚´ë‚´ëŠ” ë°©ë²•ì´ ìˆì§€ë§Œ Cì²˜ëŸ¼ sleep í•¨ìˆ˜ ìì²´ê°€ ìˆëŠ”ê±´ ì•„ë‹ˆë‹¤)
ë¹„ë™ê¸°ë¡œ êµ´ëŸ¬ê°€ëŠ” í•¨ìˆ˜ë¥¼ ë™ê¸°ë¡œ ë°”ê¾¸ê¸° ìœ„í•´ì„œ <a href=https://github.com/abbr/deasync>deasync</a>ë¥¼ ì´ìš©í–ˆë‹¤.</p><pre><code class="language-js line-numbers">function SyncFunction(){
  var ret;
  setTimeout(function(){
    ret = &#34;hello&#34;;
  },3000);
  while(ret === undefined) {
    require(&#39;deasync&#39;).sleep(100);
  }
  // returns hello with sleep; undefined without
  return ret;
}</code></pre><h2 id=ê²°ê³¼ë¬¼>ê²°ê³¼ë¬¼</h2><p><a href=https://github.com/if1live/twitter-image-archive>Repo</a></p><p><p class=markdown-image><img src=https://raw.githubusercontent.com/if1live/twitter-image-archive/master/document/twitter-image-archive-sample.png alt=image></p></p><h2 id=ê°œë°œ-ì†Œê°>ê°œë°œ ì†Œê°</h2><p>ë°±ì—…ëœ ì´ë¯¸ì§€ë¥¼ ë³´ë©´ í‰ì†Œì— ì–´ë–¤ ì´ë¯¸ì§€ë¥¼ ì˜¬ë¦¬ê³  ì–´ë–¤ê±¸ ë¦¬íŠ¸ìœ—í•˜ë©´ì„œ ì‚´ì•˜ë‚˜ ë°˜ì„±í•˜ê²Œ ëœë‹¤.</p><p><p class=markdown-image><img src=media-sample.png alt=result></p></p></div><div class=tags><a href=https://if1live.github.io/tags/twitter/>twitter</a>
<a href=https://if1live.github.io/tags/postmortem/>postmortem</a></div><hr><div class=pagination><div class="left pagination-item"><a href=https://if1live.github.io/posts/printf-with-null-post-mortem/>ğŸ¡° printf("%s\n", NULL)ì˜ ì¶œë ¥ ê²°ê³¼ëŠ”?</a></div><div class="right pagination-item"><a href=https://if1live.github.io/posts/recursion-with-destructor/>delete this ì´ìš©í•´ì„œ í„°ë¯¸ë„ì— ì‚¼ê°í˜• ê·¸ë¦¬ê¸° ğŸ¡²</a></div></div><div class=see-also><h2>See Also</h2><ul><li><a href=/posts/printf-with-null-post-mortem/>printf("%s\n", NULL)ì˜ ì¶œë ¥ ê²°ê³¼ëŠ”?</a></li><li><a href=/posts/buffer-overflow-broken-dtor-debugging-post-mortem/>ë””ë²„ê¹… í¬ìŠ¤íŠ¸ëª¨í…œ - ë°•ì‚´ë‚œ ì†Œë©¸ì</a></li><li><a href=/posts/doge-math-post-mortem/>Doge Math ê°œë°œ í¬ìŠ¤íŠ¸ëª¨í…œ</a></li></ul></div><div id=comment><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//libsora.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></section></div><footer class=sora-footer><p><a href=//gohugo.io/ title=Hugo>Hugo</a> |
<a href=//twitter.com/if1live/ title=@if1live>@if1live</a></p></footer><script src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js integrity="sha512-BttltKXFyWnGZQcRWj6osIg7lbizJchuAMotOkdLxHxwt/Hyo+cl47bZU0QADg+Qt5DJwni3SbYGXeGMB5cBcw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-clike.min.js integrity="sha512-/Rynaa6ehLZJO9fdk+EUsgiOdJqFSFUB4Qgy+gP4vU4U1DrmPJWypfXe1CgyaV7rRdZjGxdpLe9djxhx1ZHvqQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js integrity="sha512-8VrjxGFLIkS0mgEmO3p46A5OkqATHhrNVwyv2V7yUeZrk1jmSDuI3SOEpC9XHEHUWEOsfzzcJeBlUkee9lKGrw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js integrity="sha512-namzGTZvHaug0jeipHRN2pMepMiJj+EbrloktVFlMYGnA0EwZhbdLeENjBYLCgoghVbZGinIz/FFYHmB0o3wLw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js integrity="sha512-uOw7XYETzS/DPmmirpP5UCMihSDNMeyTS965J0/456OSPfxn9xEtHHjj5Q/5WefVdqyMfN/afmQnNpZd/tpkcA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js integrity="sha512-AKaNmg8COK0zEbjTdMHJAPJ0z6VeNqvRvH4/d5M4sHJbQQUToMBtodq4HaV4fa+WV2UTfoperElm66c9/8cKmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js integrity="sha512-jwrwRWZWW9J6bjmBOJxPcbRvEBSQeY4Ad0NEXSfP0vwYi/Yu9x5VhDBl3wz6Pnxs8Rx/t1P8r9/OHCRciHcT7Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js integrity="sha512-xKcnbsdT0KMoA4yrozkqZM1XJVTrPsjdQwvigxlAlxEDu8YDvC/jl+LfVqn0fY3Vs6m2y4a89JCHEIA/Z9zpmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-csharp.min.js integrity="sha512-pmt3kb6dRndjFXFFwCa3rSzuUQ0GjeCfC5QULWde+8ZBIsUzuP1heOIOSAMfAyXHSufrrTp8h7UHw85K4IJ2/g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js integrity="sha512-whYhDwtTmlC/NpZlCr6PSsAaLOrfjVg/iXAnC4H/dtiHawpShhT2SlIMbpIhT/IL/NrpdMm+Hq2C13+VKpHTYw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-ruby.min.js integrity="sha512-/Dti0iV9cxgJe8r0U/89YJIv9ZBQu1ExEWffVyBj4juMQ4GNglQ3TQ0Up4gcbiHvg0g87arcUFbKBtw2PxH1Dw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js integrity="sha512-w200Nz1i9KgDNi+IpPMgpZBVRIvfVK/V5vskyHjkz7XJkVnRJcb1uNmpiHhDv0/Ln+GG2VqScKKz/1izBfg64Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-less.min.js integrity="sha512-lL5HvfIycntK04Iiai/VTsyuj7mvDkhz9k+cA8fqXr932s4jLJ1YwplIs6Dhpw0pzVwAe1jGe8sGwbyuHG44QQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-scss.min.js integrity="sha512-aczOaJ+mB9uGT6dMJbDaUsS2PWG+XII+1ypFQ0L22Z132V6kMM6m70pQssXsPAFmLI5xkgx/hknBuUuJIJKZfA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js integrity="sha512-uMdVuOpm+9lNPCT7mV/YaMb9YQ/R4+eeON7aEMj6Ig/f4BoU+Q5k6iaZkDsX7LH9cjTHZt0CuKxbzd0/fndrWA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js integrity="sha512-QXFMVAusM85vUYDaNgcYeU3rzSlc+bTV4JvkfJhjxSHlQEo+ig53BtnGkvFTiNJh8D+wv6uWAQ2vJaVmxe8d3w==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js integrity="sha512-6O/PZimM3TD1NN3yrazePA4AbZrPcwt1QCGJrVY7WoHDJROZFc9TlBvIKMe+QfqgcslW4lQeBzNJEJvIMC8WhA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-batch.min.js integrity="sha512-tPgIjUKiv2HcUAIWXA3v6G4cNuWXkoMsF+ibxfHLnp+/s1C3Bw5/qp78+JjhrfoyWIiHXHx0LtH4M/LAwyQqWg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lisp.min.js integrity="sha512-W461RnQzrhSCQQMfEGFKOHbK2DuJTVxrXs2PzctPaxV3A+qPB/TcnMgucSsBNkyccNK8VoENBsAnbf/SuBE71g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin=anonymous></script>
<script>renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]});for(var inlineMathArray=document.querySelectorAll("script[type='math/tex']"),inlineMath,tex,replaced,displayMathArray,displayMath,i=0;i<inlineMathArray.length;i++)inlineMath=inlineMathArray[i],tex=inlineMath.innerText||inlineMath.textContent,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex,{displayMode:!1}),inlineMath.parentNode.replaceChild(replaced,inlineMath);displayMathArray=document.querySelectorAll("script[type='math/tex; mode=display']");for(i=0;i<displayMathArray.length;i++)displayMath=displayMathArray[i],tex=displayMath.innerHTML,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex.replace(/%.*/g,""),{displayMode:!0}),displayMath.parentNode.replaceChild(replaced,displayMath)</script></body></html>