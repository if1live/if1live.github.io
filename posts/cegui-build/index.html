<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.110.0"><title>Build CEGUI 0.8.2 on Windows + OGRE &#183; if1live space</title><meta name=author content="if1live"><meta name=description content="Build CEGUI 0.8.2 on Windows + OGRE"><meta name=keywords content="cegui ,ogre ,build ,windows"><meta name=naver-site-verification content="2ddc1a56777489f4a64a4f6a59822f8b1c1ea502"><meta name=google-site-verification content="VsvNNnJZUV-iLEYKNju16p-HtDqZeqL15H-VVy-HwpA"><meta name=gc:client-id content="785d47c81cbc2fd42b65"><meta name=gc:client-secret content="5e5d558f0b16fae154aa47fc9d94f7c09e540ec7"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><script type=text/javascript>var host="if1live.github.io";host==window.location.host&&window.location.protocol!="https:"?window.location.protocol="https":console.log("skip https redirect")</script><link rel=stylesheet href=/css/style.0edae0bfd6b2b995b8496e9f6186a4a0f0a0abb5664b2f3d4fc74751d2ffcff39d634d66f1447dd43dc8f0ec22da524f23286b473925642216c26d82f47a3465.css integrity="sha512-Dtrgv9ayuZW4SW6fYYakoPCgq7VmSy89T8dHUdL/z/OdY01m8UR91D3I8Owi2lJPIyhrRzklZCIWwm2C9Ho0ZQ=="><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin=anonymous><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-3043297488880636",enable_page_level_ads:!0})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-SKE54STL16"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SKE54STL16",{anonymize_ip:!1})}</script></head><body><nav class=navigation><a href=https://if1live.github.io/ title=home><h1>if1live space</h1></a><ul class=menu-button-list><li><a href=https://if1live.github.io/about/ title=about><i class="fa-solid fa-info"></i>
<span hidden>about</span></a></li><li><a href=https://if1live.github.io/posts/ title=archive><i class="fa-solid fa-box-archive"></i>
<span hidden>archive</span></a></li><li><a href=https://if1live.github.io/tags/ title=tags><i class="fa-solid fa-tags"></i>
<span hidden>tags</span></a></li><li><a href=https://if1live.github.io/search/ title=search><i class="fa-solid fa-magnifying-glass"></i>
<span hidden>search</span></a></li></ul></nav><div class=main><section id=single><h1 class=title>Build CEGUI 0.8.2 on Windows + OGRE</h1><div class=tip><time datetime="2013-10-09 00:00:00 +0000 UTC">2013. 10. 09</time></div><div class=content><p><a href=http://cegui.org.uk/>CEGUI</a> 빌드 하느라 삽질좀 해서 공유용 문서를
썻다. 어차피 요즘 대세는 유니티니까 팀원말고는 보지도 않겠지.</p><h2 id=준비물>준비물</h2><ul><li>OGRE 빌드해놓기. 귀찮으면 prebuilt library가 있어도 된다. 오그레으로
샘플 한번이라도 제대로 빌드해봤으면 뭔소리인지 알거다</li><li><a href=http://cegui.org.uk/download>CEGUI 0.8.2 source</a> 에서 받을
수 있다. 문서 작성 시점의 안정버전이 0.8.2 라서 그거 쓴다.</li><li><a href=http://cegui.org.uk/download>Dependencies (Windows / Apple OS
X Only)</a> 를 받는다. CEGUI는 의존성이
크고 아름답게 걸린 물건이라서 수동으로 관련 라이브러리 하나씩
깔면 미친다.</li><li>cmake. 왜냐하면 나는 cmake 빠돌이니까</li></ul><h2 id=빌드-과정>빌드 과정</h2><h3 id=cegui-dependencies>CEGUI Dependencies</h3><p>cegui-deps-0.8.x-src.zip 압축을 적절히 푼다. 앞으로는 해당 경로를
<code>cegui-deps-path</code> 라고 부른다. 그리고 cegui-deps-path 안에 build
폴더를 만든다. cmake 빌드 결과를 독립폴더로 분리하는건 그냥
개인취향이다(&mldr;)</p><p>cmake를 사용해서 의존 라이브러리를 빌드할 준비를 한다. cmake gui를
사용했다.</p><ul><li>Where is the source code = cegui-deps-path</li><li>Where to build the binaries = cegui-deps-path/build</li></ul><p>configure 돌리고 generate를 돌려준다. 생성된
cegui-deps-path/CEGUI-DEPS.sln을 적절히 빌드해준다. debug, release로
각각 빌드해 주는걸 잊지말자. 빌드가 끝나면
<code>cegui-deps-path/build/dependencies</code> 가 생겨있다.</p><h3 id=cegui>CEGUI</h3><p>cegui-0.8.2.zip 압축을 적절히 푼다. 앞으로는 해당 경로를 <code>cegui-path</code>라고 부른다.</p><p>cegui-deps를 빌드한 다음에 생긴 <code>cegui-deps-path/build/dependencies</code>를 <code>cegui-path</code> 로 복사한다.</p><p>CEGUI가 OGRE를 지원하도록 빌드하기 위해서는 OGRE의 경로를 알려줘야한다.
cmake gui 돌릴떄 변수를 추가해서 돌릴수도 있지만 귀찮은 관계로 cmake
파일 자체를 수정했다.</p><p><code>cegui-path/cmake/FindOgre.cmake</code> 파일의 다음 라인을 찾는다.</p><pre><code>include(FindPackageHandleStandardArgs)
</code></pre><p>위의 줄 아래에 다음과 같은 느낌의 코드를 추가한다. OgreSDK를 설치한
경로이다. 자신의 경로에 맞게 적절히 수정한 다음에 넣는다. 첫번째는 경로,
나머지 2개는 라이브러리 파일이다.</p><pre><code>set(OGRE_H_PATH &quot;D:/ogre/ogre/build/sdk/include/Ogre&quot;)
set(OGRE_LIB &quot;D:/ogre/ogre/build/sdk/lib/release/OgreMain.lib&quot;)
set(OGRE_LIB_DBG &quot;D:/ogre/ogre/build/sdk/lib/debug/OgreMain_d.lib&quot;)
</code></pre><p><code>cegui-path/cmake/FindOIS.cmake</code> 파일에 다음의 코드를 추가한다.
FindOgre.cmake 에서 했던것과 내용은 동일하다.</p><pre><code>set(OIS_H_PATH &quot;D:/ogre/ogre/build/sdk/include/OIS&quot;)
set(OIS_LIB &quot;D:/ogre/ogre/build/sdk/lib/release/OIS.lib&quot;)
set(OIS_LIB_DBG &quot;D:/ogre/ogre/build/sdk/lib/debug/OIS_d.lib&quot;)
</code></pre><p>cmake gui 를 돌린다. 일단 경로를 아래와 같이 설정하고 Configure를
돌린다. cegui-deps를 cmake돌릴때는 build라는 폴더를 따로 만들었지만
cegui는 그렇게 하면 망한다. cegui를 cmake돌리면 header 파일이 생성되는데
build폴더를 따로 만들면 경로잡기 귀찮다.</p><ul><li>Where is the source code = cegui-path</li><li>Where to build the binaries = cegui-path</li></ul><p>돌려서 나온 결과물에서 다음을 확인한다.</p><ul><li><code>CEGUI_BUILD_RENDERER_OGRE</code> : ogre 로 돌리는데 목표인데 꺼져있으면
삽질</li><li><code>CEGUI_SAMPLE_USE_OGRE</code> : ogre + cegui 가 제대로 붙었는지
확인할떄는 역시 예제 있는게 좋지 않겠어?</li></ul><p>나머지 설정은 취향에 따라서 보고 Configure 다시 돌리고 Generate 를
돌려준다. cegui-path/cegui.sln 이 생성되어있을 것이다.</p><p>cegui.sln의 내용을 전부 컴파일한다. 일단 컴파일을 돌리면 아마도
컴파일에러가 난다.</p><p>크게 하나는 CEGUI_NEW 를 못찾겠다는 문제인다. 발생위치는
Renderer.cpp:60 이다. <code>CEGUI_NEW</code> 를 <code>CEGUI_NEW_A0</code> 으로 바꾸면
제대로 된다. 아무래도 오타낸거 릴리즈한듯(&mldr;)</p><pre><code>//DefaultResourceProvider* rp = CEGUI_NEW CEGUI::DefaultResourceProvider();
DefaultResourceProvider* rp = CEGUI_NEW_AO CEGUI::DefaultResourceProvider();
</code></pre><p>다른거는 <code>error C2001: newline in constant</code> 이다. 여러곳에서
발생하는데 아무래도 인코딩문제같다. 그냥 포기하고 관련 라인을
날려버리거나 이상해보이는 문자를 그럴싸한 문자로 고치는 식으로
해결했다(&mldr;)</p><pre><code>//finalText += reinterpret_cast&lt;const encoded_char*&gt;(&quot;❚&quot;);
finalText += reinterpret_cast&lt;const encoded_char*&gt;(&quot;-&quot;);

//(encoded_char*)&quot;+ - ? B I W Y f n t....
(encoded_char*)&quot;EPIC_FAIL&quot;
</code></pre><p>컴파일이 한번 된다 싶으면 deps떄와 마찬가지로 debug/release 로 돌려준다.
<code>cegui-path/bin</code> 에 그럴싸해 보이는 exe와 dll이 보이면 성공한거다.</p><h2 id=예제-실행>예제 실행</h2><p>vs에서 <code>CEGUISampleFramework-0.8</code>d 를 바로 실행하려고 하면 dll을
못찾겠다고 안돌아간다. dll 찾는 경로를 적절히 설정해주거나 dll을
실행파일이 있는 위치로 복사해야된다.</p><p>PATH 환경변수에 다음 경로를 적절히 추가해준다. OgreSDK의 경로는
<code>OgreMain.dll</code>, <code>OgreMain_d.dll</code> 이 존재하는 경로로 알아서 잘 설정한다.</p><ul><li>cegui-deps-path/dependencies/bin</li><li>D:/ogre/ogre/build/sdk/bin/debug</li><li>D:/ogre/ogre/build/sdk/bin/release</li></ul><p>ogre engine renderer로 돌리면 사용가능한 렌더러가 아무것도 없다. 어떤
render system dll을 갖다써야할지 몰라서 그런거다. 오그레 설치된곳에서
<code>plugins_d.cfg</code>, <code>plugins_d.cfg</code>, 잡탕 ogre dll을 적절히 복사해서
넣어준다. 다시 돌리면 렌더러를 고를수 있을것이고 고른다음에 돌리면
아마도 잘 돌아갈것이다.</p><h2 id=changelog>Changelog</h2><ul><li>2013/10/09 : 최초 작성일</li><li>2013/10/10 : cegui 빌드할 떄 build 폴더 안 만듬</li></ul></div><div class=tags><a href=https://if1live.github.io/tags/cegui>cegui</a>
<a href=https://if1live.github.io/tags/ogre>ogre</a>
<a href=https://if1live.github.io/tags/build>build</a>
<a href=https://if1live.github.io/tags/windows>windows</a></div><div id=comment><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//libsora.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></section></div><footer class=footer><ul class=menu-button-list><li><a href=//twitter.com/if1live title=Twitter><i class="fa-brands fa-twitter"></i>
<span hidden>Twitter</span></a></li><li><a href=//github.com/if1live title=GitHub><i class="fa-brands fa-github"></i>
<span hidden>GitHub</span></a></li><li><a href=//bitbucket.org/if1live title=BitBucket><i class="fa-brands fa-bitbucket"></i>
<span hidden>BitBucket</span></a></li><li><a href=https://if1live.github.io/index.xml title=RSS><i class="fa-solid fa-rss"></i>
<span hidden>RSS</span></a></li></ul><p><a href=//gohugo.io/ title=Hugo>Hugo</a> |
<a href=//twitter.com/if1live/ title=@if1live>@if1live</a></p></footer><script src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js integrity="sha512-BttltKXFyWnGZQcRWj6osIg7lbizJchuAMotOkdLxHxwt/Hyo+cl47bZU0QADg+Qt5DJwni3SbYGXeGMB5cBcw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-clike.min.js integrity="sha512-/Rynaa6ehLZJO9fdk+EUsgiOdJqFSFUB4Qgy+gP4vU4U1DrmPJWypfXe1CgyaV7rRdZjGxdpLe9djxhx1ZHvqQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js integrity="sha512-8VrjxGFLIkS0mgEmO3p46A5OkqATHhrNVwyv2V7yUeZrk1jmSDuI3SOEpC9XHEHUWEOsfzzcJeBlUkee9lKGrw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js integrity="sha512-namzGTZvHaug0jeipHRN2pMepMiJj+EbrloktVFlMYGnA0EwZhbdLeENjBYLCgoghVbZGinIz/FFYHmB0o3wLw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js integrity="sha512-uOw7XYETzS/DPmmirpP5UCMihSDNMeyTS965J0/456OSPfxn9xEtHHjj5Q/5WefVdqyMfN/afmQnNpZd/tpkcA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js integrity="sha512-AKaNmg8COK0zEbjTdMHJAPJ0z6VeNqvRvH4/d5M4sHJbQQUToMBtodq4HaV4fa+WV2UTfoperElm66c9/8cKmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js integrity="sha512-jwrwRWZWW9J6bjmBOJxPcbRvEBSQeY4Ad0NEXSfP0vwYi/Yu9x5VhDBl3wz6Pnxs8Rx/t1P8r9/OHCRciHcT7Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js integrity="sha512-xKcnbsdT0KMoA4yrozkqZM1XJVTrPsjdQwvigxlAlxEDu8YDvC/jl+LfVqn0fY3Vs6m2y4a89JCHEIA/Z9zpmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-csharp.min.js integrity="sha512-pmt3kb6dRndjFXFFwCa3rSzuUQ0GjeCfC5QULWde+8ZBIsUzuP1heOIOSAMfAyXHSufrrTp8h7UHw85K4IJ2/g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js integrity="sha512-whYhDwtTmlC/NpZlCr6PSsAaLOrfjVg/iXAnC4H/dtiHawpShhT2SlIMbpIhT/IL/NrpdMm+Hq2C13+VKpHTYw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-ruby.min.js integrity="sha512-/Dti0iV9cxgJe8r0U/89YJIv9ZBQu1ExEWffVyBj4juMQ4GNglQ3TQ0Up4gcbiHvg0g87arcUFbKBtw2PxH1Dw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js integrity="sha512-w200Nz1i9KgDNi+IpPMgpZBVRIvfVK/V5vskyHjkz7XJkVnRJcb1uNmpiHhDv0/Ln+GG2VqScKKz/1izBfg64Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-less.min.js integrity="sha512-lL5HvfIycntK04Iiai/VTsyuj7mvDkhz9k+cA8fqXr932s4jLJ1YwplIs6Dhpw0pzVwAe1jGe8sGwbyuHG44QQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-scss.min.js integrity="sha512-aczOaJ+mB9uGT6dMJbDaUsS2PWG+XII+1ypFQ0L22Z132V6kMM6m70pQssXsPAFmLI5xkgx/hknBuUuJIJKZfA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js integrity="sha512-uMdVuOpm+9lNPCT7mV/YaMb9YQ/R4+eeON7aEMj6Ig/f4BoU+Q5k6iaZkDsX7LH9cjTHZt0CuKxbzd0/fndrWA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js integrity="sha512-QXFMVAusM85vUYDaNgcYeU3rzSlc+bTV4JvkfJhjxSHlQEo+ig53BtnGkvFTiNJh8D+wv6uWAQ2vJaVmxe8d3w==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js integrity="sha512-6O/PZimM3TD1NN3yrazePA4AbZrPcwt1QCGJrVY7WoHDJROZFc9TlBvIKMe+QfqgcslW4lQeBzNJEJvIMC8WhA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-batch.min.js integrity="sha512-tPgIjUKiv2HcUAIWXA3v6G4cNuWXkoMsF+ibxfHLnp+/s1C3Bw5/qp78+JjhrfoyWIiHXHx0LtH4M/LAwyQqWg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lisp.min.js integrity="sha512-W461RnQzrhSCQQMfEGFKOHbK2DuJTVxrXs2PzctPaxV3A+qPB/TcnMgucSsBNkyccNK8VoENBsAnbf/SuBE71g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/mermaid/9.3.0/mermaid.min.js integrity="sha512-ku2nmBrzAXY5YwohzTqLYH1/lvyMrpTVxgQKrvTabd/b/uesqltLORdmpVapYv6QhZVCLUX6wkvFaKOAY4xpUA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script>mermaid.initialize({startOnLoad:!0}),function(){const e=document.querySelectorAll("code.language-mermaid");for(let t=0;t<e.length;t++){const s=`mermaid-${t}`,n=e[t],o=n.innerText,i=e=>{const t=document.createElement("div");t.innerHTML=e,n.parentElement.replaceWith(t)};mermaid.render(s,o,i)}}()</script><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin=anonymous></script>
<script>renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]});for(var inlineMathArray=document.querySelectorAll("script[type='math/tex']"),inlineMath,tex,replaced,displayMathArray,displayMath,i=0;i<inlineMathArray.length;i++)inlineMath=inlineMathArray[i],tex=inlineMath.innerText||inlineMath.textContent,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex,{displayMode:!1}),inlineMath.parentNode.replaceChild(replaced,inlineMath);displayMathArray=document.querySelectorAll("script[type='math/tex; mode=display']");for(i=0;i<displayMathArray.length;i++)displayMath=displayMathArray[i],tex=displayMath.innerHTML,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex.replace(/%.*/g,""),{displayMode:!0}),displayMath.parentNode.replaceChild(replaced,displayMath)</script></body></html>