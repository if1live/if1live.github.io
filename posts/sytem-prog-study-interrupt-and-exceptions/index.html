<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.116.1"><title>Interrupt and Exceptions - if1live space</title><meta name=author content="if1live"><meta name=title content="Interrupt and Exceptions"><meta name=description content="ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë° ì‹œí—˜ ê³µë¶€í•˜ë©´ì„œ ì •ë¦¬í•œ ë‚´ìš©ì´ë‹¤. ë‚´ìš© ê°±ì‹ ì€ ì—†ì„ ì˜ˆì •ì´ë‹¤. Interrupt and Exceptions Interrupt vs Exception Interrupt Asynchronous Interrupt ì™¸ë¶€ì¥ì¹˜ -> CPU ì™¸ë¶€ ì¥ì¹˜ : keyboard, etc CPU : processor&rsquo;s interrupt pinìœ¼ë¡œ ì…ë ¥ ë°›ê¸°"><meta name=keywords content="linux,system programming,interrupt,exception,study"><meta name=naver-site-verification content="2ddc1a56777489f4a64a4f6a59822f8b1c1ea502"><meta name=google-site-verification content="VsvNNnJZUV-iLEYKNju16p-HtDqZeqL15H-VVy-HwpA"><meta name=gc:client-id content="785d47c81cbc2fd42b65"><meta name=gc:client-secret content="5e5d558f0b16fae154aa47fc9d94f7c09e540ec7"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><script type=text/javascript>var host="if1live.github.io";host==window.location.host&&window.location.protocol!="https:"?window.location.protocol="https":console.log("skip https redirect")</script><link rel=stylesheet href=/css/style.ad6245cc6a90c30a30dba42b8bbe9be63bed9ea169e339d8ecfc6b9afc6eb8382bbd422b2d31dc71c3355c79f057ddcaa7e1ca96b5eb7f5f16a28a34e74051db.css integrity="sha512-rWJFzGqQwwow26Qri76b5jvtnqFp4znY7PxrmvxuuDgrvUIrLTHcccM1XHnwV93Kp+HKlrXrf18Wooo050BR2w=="><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin=anonymous><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-3043297488880636",enable_page_level_ads:!0})</script><meta property="og:title" content="Interrupt and Exceptions"><meta property="og:description" content="ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë° ì‹œí—˜ ê³µë¶€í•˜ë©´ì„œ ì •ë¦¬í•œ ë‚´ìš©ì´ë‹¤. ë‚´ìš© ê°±ì‹ ì€ ì—†ì„ ì˜ˆì •ì´ë‹¤. Interrupt and Exceptions Interrupt vs Exception Interrupt Asynchronous Interrupt ì™¸ë¶€ì¥ì¹˜ -> CPU ì™¸ë¶€ ì¥ì¹˜ : keyboard, etc CPU : processor&rsquo;s interrupt pinìœ¼ë¡œ ì…ë ¥ ë°›ê¸°"><meta property="og:type" content="article"><meta property="og:url" content="https://if1live.github.io/posts/sytem-prog-study-interrupt-and-exceptions/"><meta property="og:image" content="https://www.gravatar.com/avatar/fb9672e7e0d256f39369595381d1ea07?size=160"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-10-17T00:00:00+00:00"><meta property="article:modified_time" content="2014-10-17T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.gravatar.com/avatar/fb9672e7e0d256f39369595381d1ea07?size=160"><meta name=twitter:title content="Interrupt and Exceptions"><meta name=twitter:description content="ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë° ì‹œí—˜ ê³µë¶€í•˜ë©´ì„œ ì •ë¦¬í•œ ë‚´ìš©ì´ë‹¤. ë‚´ìš© ê°±ì‹ ì€ ì—†ì„ ì˜ˆì •ì´ë‹¤. Interrupt and Exceptions Interrupt vs Exception Interrupt Asynchronous Interrupt ì™¸ë¶€ì¥ì¹˜ -> CPU ì™¸ë¶€ ì¥ì¹˜ : keyboard, etc CPU : processor&rsquo;s interrupt pinìœ¼ë¡œ ì…ë ¥ ë°›ê¸°"><meta name=twitter:site content="@if1live"><script async src="https://www.googletagmanager.com/gtag/js?id=G-SKE54STL16"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SKE54STL16",{anonymize_ip:!1})}</script></head><body><nav class=sora-navigation><a href=/ title=home><h1>if1live space</h1></a><ul class=menu-button-list><li><a href=/posts title=archive><i class="fa-solid fa-box-archive"></i>
<span hidden>archive</span></a></li><li><a href=/tags title=tags><i class="fa-solid fa-tags"></i>
<span hidden>tags</span></a></li><li><a href=//github.com/if1live title=GitHub><i class="fa-brands fa-github"></i>
<span hidden>GitHub</span></a></li><li><a href=/about title=about><i class="fa-solid fa-info"></i>
<span hidden>about</span></a></li><li><a href=https://if1live.github.io/index.xml title=RSS><i class="fa-solid fa-rss"></i>
<span hidden>RSS</span></a></li></ul></nav><div class=main><section id=single><h1 class=title><span>Interrupt and Exceptions</span><br><small>2014ë…„ 2í•™ê¸° ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë° ì‹œí—˜ ê³µë¶€</small></h1><div class=tip><time datetime="2014-10-17 00:00:00 +0000 UTC">2014. 10. 17</time></div><div class=content><p>ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë° ì‹œí—˜ ê³µë¶€í•˜ë©´ì„œ ì •ë¦¬í•œ ë‚´ìš©ì´ë‹¤. ë‚´ìš© ê°±ì‹ ì€ ì—†ì„ ì˜ˆì •ì´ë‹¤.</p><h1 id=interrupt-and-exceptions>Interrupt and Exceptions</h1><h2 id=interrupt-vs-exception>Interrupt vs Exception</h2><h3 id=interrupt>Interrupt</h3><ul><li>Asynchronous Interrupt</li><li>ì™¸ë¶€ì¥ì¹˜ -> CPU<ul><li>ì™¸ë¶€ ì¥ì¹˜ : keyboard, etc</li><li>CPU : processor&rsquo;s interrupt pinìœ¼ë¡œ ì…ë ¥ ë°›ê¸° ê°€ëŠ¥</li></ul></li><li>íŒì›¨ì–´ì™€ CPUì˜ í”Œë«í¼/ì–¸ì–´/í™˜ê²½ì´ ë‹¬ë¼ë„ í†µì‹ ê°€ëŠ¥í•œ ì¸í„°í˜ì´ìŠ¤</li></ul><h3 id=exception>Exception</h3><ul><li>Synchronous Interrupt</li><li>CPUì—ì„œ ëª…ë ¹ì–´ ì‹¤í–‰ë„ì¤‘ ë°œìƒ<ul><li>ex: 0ìœ¼ë¡œ ë‚˜ëˆ„ê¸°</li></ul></li></ul><h2 id=interrupt-signal>Interrupt Signal</h2><ul><li>Interrupt Signal ë°›ìœ¼ë©´ í•˜ëŠ” í–‰ë™<ul><li>CPUëŠ” ê¸°ì¡´ íë¦„ ë©ˆì¶”ê³  interrupt handlerë¡œ jump</li><li>í˜„ì¬ program contextë¥¼ kernel stackì— ì €ì¥(eip, cs registers)</li><li>PC(program counter)ì—ëŠ” ì¸í„°ëŸ½íŠ¸ ê´€ë ¨ ì£¼ì†Œ ëŒ€ì…</li></ul></li><li>Interrupt handlingê³¼ Process switchingì˜ ì°¨ì´<ul><li>Interrupt handlerëŠ” í”„ë¡œì„¸ìŠ¤ ì•„ë‹˜</li><li>í˜„ì¬ í”„ë¡œì„¸ìŠ¤ê°€ ì‘ë™ì¤‘ì¸ ìƒíƒœì—ì„œ ì»¤ë„ íë¦„ì´ ë°”ë€œ</li><li>í”„ë¡œì„¸ìŠ¤ë³´ë‹¤ ê°€ë³ë‹¤<ul><li>interrupt handlingì—ëŠ” mode switchingë§Œ í•„ìš”í•˜ë‹ˆê¹Œ</li><li>í”„ë¡œì„¸ìŠ¤ëŠ” ê¸°ì¡´ ìœ ì§€</li></ul></li></ul></li></ul><h2 id=interrupt-handling-ìš”êµ¬-ì‚¬í•­>Interrupt Handling ìš”êµ¬ ì‚¬í•­</h2><ul><li>ì»¤ë„ íš¨ìœ¨ì„±(kernel Effectiveness)<ul><li>Top half : ì¦‰ì‹œ ì²˜ë¦¬ í•´ì•¼í•˜ëŠ” ê²ƒ. ë†’ì€ ìš°ì„ ìˆœìœ„</li><li>Bottom half : defer, ë‚˜ì¤‘ì— ì²˜ë¦¬í•´ë„ ë˜ëŠ” ê²ƒ</li><li>ë¶„ë¦¬í•˜ëŠ” ì´ìœ  : ì¸í„°ëŸ½íŠ¸ë§Œ ë¶™ì¡ê³  ì´ìœ¼ë©´ ìœ ì € ì‘ì—…ì´ ë©ˆì¶˜ë‹¤. ë°˜ì‘ì„± ê°ì†Œ</li></ul></li><li>íš¨ê³¼ì ì¸ I/O ì²˜ë¦¬<ul><li>ì¸í„°ëŸ½íŠ¸ ì²˜ë¦¬í•˜ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ì¸í„°ëŸ½íŠ¸ë¥¼ ë°›ì„ìˆ˜ ìˆì–´ì•¼í•œë‹¤</li><li><strong>Nested</strong></li></ul></li><li>ì»¤ë„ ë™ê¸°í™”(kernel synchronization)<ul><li>critical regionì—ì„œëŠ” ì¸í„°ëŸ½íŠ¸ë¥¼ êº¼ì•¼í•œë‹¤.</li><li>í•˜ì§€ë§Œ ì´ëŸ° ê³³ì€ ë  ìˆ˜ ìˆëŠ” í•œ ì¤„ì´ëŠ” ê²ƒì´ ëª©í‘œ</li></ul></li></ul><h2 id=interruptexception-handling-ê¸°ë³¸-ê°œìš”>Interrupt/Exception Handling ê¸°ë³¸ ê°œìš”</h2><ol><li>H/W interrupt ë°œìƒ</li><li>PICì—ì„œ ìˆ˜ì‹ </li><li>CPUì˜ Interrupt PINìœ¼ë¡œ ì¸í„°ëŸ½íŠ¸ ë„£ê¸°</li><li><code>do_IRQ()</code> (ê¸°ì¡´ ì‘ì—… ë‚´ìš© ì €ì¥)</li><li>í•´ë‹¹ ì¸í„°ëŸ½íŠ¸ì— í•´ë‹¹í•˜ëŠ” í•¸ë“¤ëŸ¬ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸</li><li>í•¸ë“¤ëŸ¬ ì¡´ì¬í•˜ëŠ” ê²½ìš° <code>handle_IRQ_event()</code> í˜¸ì¶œ. ê´€ë ¨ëœ ëª¨ë“  ì¸í„°ëŸ½íŠ¸ í•¸ë“¤ëŸ¬ í˜¸ì¶œ</li><li><code>ret_from_intr()</code></li><li>ê¸°ì¡´ ì‘ì—… ë‚´ìš© ë³µêµ¬</li></ol><h2 id=ia32-architecture-registers>IA32 Architecture: Registers</h2><ul><li>Segment registers : ì„¸ê·¸ë¨¼íŠ¸ ë©”ëª¨ë¦¬ ê´€ë ¨<ul><li>cs : code segment register</li><li>ds : data segment register</li><li>ss : stack segemnt register</li><li>es, fs, gs : general segment register</li></ul></li><li>Control registers<ul><li>CR : 0~3, 4ê°œ</li></ul></li><li>Debugging registers<ul><li>DR : 0~7, 8ê°œ</li></ul></li><li>EFLAGS : Maskable Interrupt ê´€ë ¨</li><li>System registers<ul><li>GDTR : global descriptor table register</li><li>IDTR : interrupt descriptor table register</li><li>LDTR : local descriptor table register</li></ul></li><li>etc&mldr;</li></ul><h2 id=irqs-and-interrupts>IRQs and Interrupts</h2><ul><li>Hardware device controller<ul><li>Interrupt requestë¥¼ outputìœ¼ë¡œ ë±‰ëŠ”ë‹¤</li><li>ì´ê²ƒì€ Interrupt controllerë¡œ ì—°ê²°ëœë‹¤</li></ul></li><li>Interrupt Controller<ul><li>IRQ lineì„ ê°ì‹œ</li><li>ì‹œê·¸ë„ ë°œìƒì‹œ ë‹¤ìŒì„ ì²˜ë¦¬<ul><li>signalì„ vectorë¡œ ë³€í™˜</li><li>Interrupt Controller I/O portì— vectorì €ì¥<ul><li>ë‚˜ì¤‘ì— CPUì—ì„œ ì½ì–´ê°„ë‹¤</li></ul></li><li>INTR PINì„ ì˜¬ë¦°ë‹¤ => <strong>Interrupt ë°œìƒ</strong></li><li>CPUê°€ ì½ì–´ê°„ ì´í›„ì— ì‹ í˜¸ë¥¼ ì£¼ë©´ INTR ë‚´ë¦°ë‹¤</li></ul></li></ul></li></ul><h2 id=interrupts>Interrupts</h2><h3 id=maskable-interrupts>Maskable Interrupts</h3><ul><li>I/O ì¥ì¹˜ì—ì„œ ë°œìƒí•˜ëŠ” ëª¨ë“  IRQ</li><li>INTR pinìœ¼ë¡œ ì „ë‹¬</li><li>CPU status registerì¸ eflagsë¡œ enable/disable ì„¤ì • ê°€ëŠ¥</li></ul><h3 id=nonmaskable-interrupts>Nonmaskable Interrupts</h3><ul><li>ëª‡ê°œì˜ íŠ¹ë³„í•œ ì´ë²¤íŠ¸ë¡œë§Œ ë°œìƒê°€ëŠ¥(ex: hardware failure)</li><li>NMI pinìœ¼ë¡œ CPUì— ì „ë‹¬ë¨<ul><li>NMI = NonMaskable Interrupts</li></ul></li></ul><h2 id=exceptions>Exceptions</h2><h3 id=processor-detected-exceptions>Processor-detected exceptions</h3><ul><li>CPUê°€ íŠ¹ë³„í•œ ìƒí™©ì—ì„œ ë°œìƒì‹œí‚´</li><li>Fault<ul><li>ì˜ë„í•˜ì§€ ì•Šì€ ìƒí™©</li><li>ì•„ë§ˆ ë³µêµ¬ ê°€ëŠ¥í•œ</li><li>ëª…ë ¹ì€ fault ë°œìƒë¶€í„° ë‹¤ì‹œ ì‹¤í–‰, ë˜ëŠ” ì¢…ë£Œ<ul><li>page-fault (ë³µêµ¬ê°€ëŠ¥)</li><li>protection faults (ë³µêµ¬ ë¶ˆê°€ëŠ¥)</li><li>etc</li></ul></li></ul></li><li>Traps<ul><li>ì˜ë„ëœ ìƒí™©</li><li>ë‹¤ìŒ ëª…ë ¹ì–´ë¶€í„° ì´ì–´ì„œ ì‹¤í–‰</li><li>ì˜ˆë¥¼ ë“¤ë©´ breakpoint</li></ul></li><li>Aborts<ul><li>ì˜ë„ë˜ì§€ ì•Šì€ ìƒí™©</li><li>ë³µêµ¬ ë¶ˆê°€ëŠ¥</li><li>í˜„ì¬ í”„ë¡œê·¸ë¨ ì¢…ë£Œ<ul><li>ì¹˜ëª…ì ì¸ í•˜ë“œì›¨ì–´ ì‹¤íŒ¨(parity error, &mldr;)</li><li>etc</li></ul></li></ul></li></ul><h3 id=programmed-exceptionssoftware-interrupts>Programmed exceptions(software interrupts)</h3><ul><li>í”„ë¡œê·¸ë˜ë¨¸ê°€ ì˜ë„ì ìœ¼ë¡œ ë°œìƒì‹œí‚¨ë‹¤<ul><li>int, int3, etc..</li></ul></li><li>ì‹œìŠ¤í…œì½œì„ êµ¬í˜„í•˜ëŠ”ë° ì‚¬ìš©í•œë‹¤(int 0x80, sysenter)</li></ul><h2 id=interrupt-handling--hardware-partia32>Interrupt Handling : Hardware part(IA32)</h2><ul><li>IDT(Interrupt Descriptor Table) : 256ê°œì˜ entry ì¡´ì¬</li><li>ì¸í„°ëŸ½íŠ¸ ë°œìƒì‹œ CPU í–‰ë™<ul><li>PICì—ì„œ Interrupt vector i ê°€ì ¸ì˜´</li><li>ië²ˆì§¸ IDT entry ì ‘ê·¼, interrupt handler entry point ì£¼ì†Œ ê²°ì •</li><li>(user modeì¸ ê²½ìš°) kernel modeë¡œ mode switch</li><li>kernel stackì— ì‘ì—…ìƒíƒœ ì €ì¥</li><li>interrupt handler entry pointë¡œ íë¦„ ë³€ê²½</li></ul></li></ul><h2 id=types-of-interrupt-descriptor>Types of Interrupt Descriptor</h2><h3 id=x86>x86</h3><ul><li>Task gate : ì•ˆì”€</li><li>Interrupt Gate : ì¸í„°ëŸ½íŠ¸ í•¸ë“¤ëŸ¬ìš© (segment selector + offset)</li><li>Trap Gate : exception í•¸ë“¤ëŸ¬ìš© (segment selector + offset)</li></ul><h3 id=linux>Linux</h3><ul><li>Interrupt Gate<ul><li>DPL field = 0 (user modeì—ì„œ ì ‘ê·¼ ë¶ˆê°€)</li><li>x86 interrupt gate</li><li>ëª¨ë“  ë¦¬ëˆ…ìŠ¤ interrupt handler</li></ul></li><li>System Gate<ul><li>DPL field = 3 (user modeì—ì„œ ì ‘ê·¼ ê°€ëŠ¥)</li><li>x86 trap gate</li><li>vector = {3|4|5|128}, (int3, into, bound int 0x80)</li></ul></li><li>Trap Gate<ul><li>DPL field = 0</li><li>x86 trap gate</li><li>ëª¨ë“  ë¦¬ëˆ…ìŠ¤ exception handler(3, 4, 5, 128 ì œì™¸)</li></ul></li></ul><h2 id=hardware-handling-of-interrupt>&ldquo;Hardware Handling&rdquo; of Interrupt</h2><ul><li>CPU í†µì œê°€ ì¸í„°ëŸ½íŠ¸ í•¸ë“¤ëŸ¬ë¡œ ë„˜ì–´ê°ˆë•Œ<ol><li>ë°œìƒí•œ ì¸í„°ëŸ½íŠ¸ì— í•´ë‹¹í•˜ëŠ” vector i ì•Œì•„ëƒ„</li><li>idtr ë ˆì§€ìŠ¤í„°ê°€ ê°€ë¦¬í‚¤ëŠ” IDTì—ì„œ ië²ˆì¨° ì—”íŠ¸ë¦¬ë¥¼ ì½ëŠ”ë‹¤(ì—”íŠ¸ë¦¬ì—ëŠ” ì¸í„°ëŸ¬ë¸Œ ê²Œì´íŠ¸ë‚˜ íŠ¸ë© ê²Œì´íŠ¸ ë“¤ì–´ìˆìŒ)</li><li>gdtr ë ˆì§€ìŠ¤í„°ì—ì„œ GDTì˜ ê¸°ë³¸ ì£¼ì†Œ ê°€ì ¸ì™€ì„œ IDT ì—”íŠ¸ë¦¬ì— ìˆëŠ” ì…€ë ‰í„°ê°€ ê°€ë¦¬í‚¤ëŠ” ì„¸ê·¸ë¨¼íŠ¸ ë””ìŠ¤í¬ë¦½í„°ë¥¼ GDTì—ì„œ ì½ì–´ë“¤ì¸ë‹¤. ë””ìŠ¤í¬ë¦½í„°ëŠ” ì¸í„°ëŸ½íŠ¸ í•¸ë“¤ëŸ¬ê°€ í¬í•¨ëœ ì„¸ê·¸ë¨¼íŠ¸ì˜ ì‹œì‘ ì£¼ì†Œë¥¼ ì§€ì •</li><li>ì¸í„°ëŸ½íŠ¸ê°€ ì¸ì¦ëœ ê³³ì—ì„œ ë°œìƒí–ˆëŠ”ì§€ ê²€ì¦. CPL(current privilege level)ê³¼ DPL(Descriptor privilege level) ë¹„êµ</li><li>privilege levelì„ ë°”ê¿€ì§€ ê²°ì •<ol><li>ìƒˆë¡œìš´ íŠ¹ê¶Œ ìˆ˜ì¤€ê³¼ ê´€ë ¨ëœ ss, esp ì„¤ì •</li><li>ì´ì „ íŠ¹ê¶Œ ìˆ˜ì¤€ì˜ ss, espë¥¼ ì»¤ë„ ìŠ¤íƒì— ì €ì¥</li></ol></li><li>faultì˜ ê²½ìš° cs, eipë¥¼ ì˜ˆì™¸ ë°œìƒì‹œí‚¨ ë…¼ë¦¬ ì£¼ì†Œë¡œ ë³€ê²½(faultëŠ” fault ë°œìƒì§€ì ë¶€í„° ì¬ì‹œì‘ í•´ì•¼ë˜ë‹ˆê¹Œ)</li><li>eflags, cs, eipë¥¼ ì»¤ë„ ìŠ¤íƒì— ì €ì¥</li><li>ì˜ˆì™¸ì— í•˜ë“œì›¨ì–´ ì—ëŸ¬ ì½”ë“œê°€ ë¶™ì–´ìˆìœ¼ë©´ ê·¸ê²ƒì„ ì»¤ë„ ìŠ¤íƒì— ì €ì¥</li><li>cs, eipë¥¼ ê°ê° IDTì˜ ië²ˆì¨° ì—”íŠ¸ë¦¬ì— ì €ì¥ëœ ê²Œì´íŠ¸ ë””ìŠ¤í¬ë¦½í„°ì˜ ì„¸ê·¸ë¨¼íŠ¸ ì…€ë ‰í„°ì™€ ì˜¤í”„ì…‹ í•„ë“œë¡œ ì„¤ì •í•œë‹¤. ê·¸ë¦¬ê³  í•¸ë“¤ëŸ¬ë¡œ ì í”„</li></ol></li><li>iretì— ì˜í•´ì„œ interrupt handler ë²—ì–´ë‚  ë•Œ<ol><li>cs, eip, eflags ì»¤ë„ ìŠ¤íƒì—ì„œ ë³µêµ¬</li><li>í•¸ë“¤ëŸ¬ì˜ CPL í™•ì¸</li><li>ss, esp ë¥¼ ì»¤ë„ ìŠ¤íƒì—ì„œ ë³µêµ¬</li><li>ì ‘ê·¼ë ˆë²¨ í†µì œí•˜ë ¤ê³  ds, es, fs, gs í™•ì¸</li></ol></li></ul><h2 id=exception-handling>Exception Handling</h2><ul><li>í˜„ì¬ ì‘ì—… ìƒíƒœ(ë ˆì§€ìŠ¤í„° ë“±ë“±)ì„ ì»¤ë„ ìŠ¤íƒì— ì €ì¥</li><li>exception handling(c í•¨ìˆ˜)</li><li><code>ret_from_exception()</code>ìœ¼ë¡œ í•¸ë“¤ëŸ¬ ë²—ì–´ë‚¨</li></ul><h2 id=interrupt-handling>Interrupt Handling</h2><h3 id=exception-handling-vs-interrupt-handling>Exception handling vs Interrupt handling</h3><ul><li>Exception handling<ul><li>ëŒ€ë¶€ë¶„ì˜ ê²½ìš° UNIX Signalì„ ë³´ë‚¸ë‹¤</li><li>ì‹¤ì œ ì²˜ë¦¬ëŠ” signalì„ ë°›ì„ ë•Œê¹Œì§€ ì§€ì—°ë¨. ê·¸ë˜ì„œ ì»¤ë„ì€ ë¹¨ë¦¬ ì²˜ë¦¬ ê°€ëŠ¥í•˜ë‹¤</li></ul></li><li>Interrupt handling<ul><li>UNIX Signal ì•ˆë³´ë‚¸ë‹¤</li><li>ê´€ê³„ìˆëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ë©ˆì¶°ìˆê³  ê´€ê³„ìˆëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ì¤‘ì´ ì•„ë‹ˆ ìƒíƒœì—ì„œ ë°œìƒí• ë•Œê°€ ë§ë‹¤.</li></ul></li></ul><h3 id=interrupt-context>Interrupt Context</h3><ul><li>Interrupt handlerê°€ ì‘ë™í•˜ëŠ” êµ¬ê°„, ê¸°ê°„, ì˜ì—­</li><li>interrupt handlerëŠ” ì ë“¤ ìˆ˜ ì—†ë‹¤</li><li>user-spaceì— ì ‘ê·¼ ë¶ˆê°€ëŠ¥</li><li>scheduler í˜¸ì¶œ ë¶ˆê°€ëŠ¥<ul><li>í”„ë¡œì„¸ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì¸í„°ëŸ½ì´ ì—†ì´ ì‹¤í–‰ ì›í•œë‹¤</li><li>syscallì€ ì›í•´ì„œ í˜¸ì¶œí•œê±°ë‹ˆê¹Œ(ì§ì ‘ í˜¸ì¶œ) ìŠ¤ì¼€ì¤„ë§ ë‹¹í•´ë„ ê³µí‰</li><li>ì¸í„°ëŸ½íŠ¸ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì›í•œê²Œ ì•„ë‹Œë°(í˜¸ì¶œí•œ í”„ë¡œì„¸ìŠ¤ë‘ ë°›ì„ë•Œì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë‹¤ë¥¼ í™•ë¥ ì´ ë†’ë‹¤) ìŠ¤ì¼€ì¤„ë§ ë‹¹í•˜ë©´ ë¶ˆê³µí‰</li></ul></li></ul><h2 id=io-interrupts>I/O Interrupts</h2><ul><li>ì¸í„°ëŸ½íŠ¸ ì¢…ë¥˜<ul><li>I/O interrupt</li><li>Timer Interrupt</li><li>Interprocessor interrupts</li></ul></li><li>I/O Interrupts<ul><li>ëª¨ë“  í•¸ë“¤ëŸ¬ê°€ ë™ì¼í•œ ìš°ì„ ìˆœìœ„ëŠ” ì•„ë‹ˆë‹¤.</li><li>ì¸í„°ëŸ½íŠ¸ í•¸ë“¤ëŸ¬ëŠ” block í•¨ìˆ˜ ëª» ì“´ë‹¤(ex: IO disk operation)<ul><li>ì¸í„°ëŸ½íŠ¸ í•¸ë“¤ëŸ¬ ì‹¤í–‰í•˜ëŠ” ë™ì•ˆ í”„ë¡œì„¸ìŠ¤ê°€ TASK_RUNNINGì„ ìœ ì§€í•˜ë ¤ê³ </li></ul></li></ul></li></ul><h2 id=interrupt-classes>Interrupt Classes</h2><ul><li>Critical : Maskable interruptsê°€ disableì´ë”ë¼ë„ ì¦‰ì‹œ ì²˜ë¦¬ë˜ì–´ì•¼ í•˜ëŠ”ê²ƒ</li><li>Noncritical : Interruptê°€ enabledì¼ë•Œ ì¦‰ì‹œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ”ê²ƒ</li><li>Noncritical deferrable<ul><li>ì˜¤ë«ë™ì•ˆ ì—°ê¸°í–ˆë‹¤ê°€ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ê²ƒ</li><li>ì˜ˆë¥¼ ë“¤ë©´ ë²„í¼ì˜ ë‚´ìš©ì„ í”„ë¡œì„¸ìŠ¤ ë©”ëª¨ë¦¬ ì˜ì—­ìœ¼ë¡œ ë³µì‚¬í•˜ëŠ” ì‘ì—…</li><li>softirq</li><li>tasklet</li><li>work queue</li></ul></li></ul><h2 id=interrupt-handler>Interrupt Handler</h2><ul><li>(kernel modeì— ì§„ì…í•œ ìƒíƒœì—ì„œ ë‹¤ìŒì„ ë”°ë¥¸ë‹¤)</li><li>IRQ ê°’ê³¼ í˜„ì¬ ì‘ì—… ìƒíƒœ(ë ˆì§€ìŠ¤í„° ë“±)ì„ ì»¤ë„ ìŠ¤íƒì— ì €ì¥í•œë‹¤</li><li>PICë¡œ ACKë¥¼ ë³´ë‚¸ë‹¤. ê·¸ëŸ¬ë©´ ì´í›„ì— ë‹¤ì‹œ ì¸í„°ëŸ½íŠ¸ ë°›ëŠ”ê²Œ ê°€ëŠ¥í•˜ë‹¤</li><li>IRQê³¼ ì—°ê´€ëœ ISRì„ í˜¸ì¶œ</li><li><code>ret_from_intr()</code>ì„ í˜¸ì¶œí•˜ê³  ì¢…ë£Œ</li></ul><h2 id=interrupt-vector>Interrupt Vector</h2><ul><li>ê°ê°ì˜ interrupt/exceptionì€ ê³ ìœ í•œ ìˆ«ìê°€ ë¶™ëŠ”ë‹¤</li><li>0~255 (8 bit)</li><li>ì´ë¥¼ vectorë¼ê³  ë¶€ë¥¸ë‹¤</li></ul><h2 id=irq-data-structure-irq-descriptor>IRQ Data Structure (IRQ Descriptor)</h2><ul><li><code>irq_desc_t[NR_IRQs]</code></li><li><code>struct hw_interrupt_type</code></li><li><code>struct irqaction</code> : ISR, linked list</li></ul><h2 id=interrupt-handler-ì‹¤í–‰-ê³¼ì •>Interrupt Handler ì‹¤í–‰ ê³¼ì •</h2><ul><li><code>do_IRQ()</code> : ì¸í„°ëŸ½íŠ¸ì™€ ê´€ë ¨ëœ ISR ì „ë¶€ í˜¸ì¶œ<ul><li><code>handle_IRQ_event()</code></li><li>ëë‚˜ê¸° ì§ì „ì— <code>do_softirq()</code> í˜¸ì¶œ</li></ul></li><li><code>handle_IRQ_event()</code><ul><li>linked listë¡œ ì—°ê²°ëœ ISR ì „ë¶€ í˜¸ì¶œ</li></ul></li></ul><h2 id=nested-executions>Nested Executions</h2><ul><li>Why?<ul><li>PICì™€ ë””ë°”ì´ìŠ¤ì˜ ì²˜ë¦¬ëŸ‰ í–¥ìƒ(ì¸í„°ëŸ½íŠ¸ë¥¼ ì—°ì†í•´ì„œ ë°›ì„ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ)</li><li>ìš°ì„ ìˆœìœ„ ì—†ëŠ” interrupt model êµ¬í˜„</li></ul></li><li>Nestedì˜ ì„ ì¡°ê±´<ul><li>interrupt ë„ì¤‘ context switch ë°œìƒ ë¶ˆê°€<ul><li>Interrupt contextì—ì„œëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ í˜¸ì¶œ ë¶ˆê°€</li></ul></li><li>interupt handler ë„ì¤‘ blocking í•¨ìˆ˜ ì‚¬ìš© ë¶ˆê°€</li><li>ì‹¤í–‰ìƒíƒœëŠ” kernel stackì— ì €ì¥í•œë‹¤</li></ul></li></ul><h2 id=returning-from-interupts-and-exceptions>Returning from Interupts and Exceptions</h2><ul><li>Nested ë˜ì–´ìˆëŠ”ì§€ í™•ì¸í•˜ê¸°<ul><li>ê¹Šì´=1ì´ë©´ ì»¤ë„ì€ ìœ ì €ëª¨ë“œë¡œ ëŒì•„ê°ˆ ìˆ˜ ìˆë‹¤</li></ul></li><li>ëŒ€ê¸°ì¤‘ì¸ process switch ìš”ì²­<ul><li><code>TIF_NEED_RESCHED</code>ê°€ 1ì´ë©´ ì»¤ë„ì€ í”„ë¡œì„¸ìŠ¤ ìŠ¤ì¼€ì¤„ë§ì„ ìˆ˜í–‰í•œë‹¤.</li><li>ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ í˜„ì¬ í”„ë¡œì„¸ìŠ¤ë¡œ í†µì œ ë„˜ê¸´ë‹¤</li></ul></li><li>ëŒ€ê¸°ì¤‘ì¸ ì‹œê·¸ë„ ìˆëŠ” ê²½ìš°<ul><li>í˜„ì¬ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‹œê·¸ë„ ë°›ì€ ê²½ìš°, ì ì ˆíˆ ì²˜ë¦¬í•œë‹¤.</li></ul></li><li>ì´ë£Œ ì§„ì…ì <ul><li><code>ret_from_intr()</code></li><li><code>ret_from_exception()</code></li></ul></li></ul><h2 id=deferred-invocationì˜-í•„ìš”ì„±>Deferred invocationì˜ í•„ìš”ì„±</h2><ul><li>interrupt handlerëŠ” process contextì—ì„œ ì‘ë™ ì•ˆí•œë‹¤<ul><li>ë¸”ëŸ­ë ìˆ˜ ì—†ë‹¤. ë¸”ëŸ­ í•¨ìˆ˜ ì‚¬ìš© ë¶ˆê°€</li></ul></li><li>interrupt handler ì²˜ë¦¬í•˜ëŠ” ë™ì•ˆ ìœ ì € ì‘ì—…ì´ ë©ˆì¶˜ë‹¤. ë”°ë¼ì„œ ë¹¨ë¦¬ ì²˜ë¦¬ë˜ì–´ì•¼ í•œë‹¤.</li></ul><p>ë¦¬ëˆ…ìŠ¤ëŠ” subtask(function call)ì„ ë„ì…í•´ì„œ ë‚˜ì¤‘ì— ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤(Noncritical deferrable ì‘ì—… í•œì •)</p><ul><li>interrupt handlerëŠ” ê°€ì¥ ì¶©ìš”í•œê²ƒë§Œ ì²˜ë¦¬</li><li>ì‘ì—…ì„ ë‚˜ì¤‘ì— ì‹¤í–‰í•˜ë„ë¡ ë“±ë¡</li><li>interrupt handlerëŠ” ë ìˆ˜ ìˆëŠ” í•œ ë¹¨ë¦¬ return</li><li><strong>ì»¤ë„ì˜ ë°˜ì‘ì‹œê°„ì„ ìµœì†Œí™”</strong></li></ul><h3 id=linux-ì ‘ê·¼ë²•>Linux ì ‘ê·¼ë²•</h3><ul><li>softirq : interrupt context</li><li>tasklet : interrupt context, softirq ê¸°ë°˜</li><li>worker queue : process context</li><li>softirq, tasklet, work queueì— ì‹¤í–‰ë  ê²Œ ì—†ê¸° ì „ê¹Œì§€ user modeë¡œ ëŒì•„ê°€ì§€ ì•ŠëŠ”ë‹¤</li></ul><h2 id=tasklet>Tasklet</h2><ul><li>Really Lightweight Task</li><li>Def : a kernel runtine/function with an argument, which can be scheduled to run later in the <strong>interrupt context</strong></li><li>íŠ¹ì§•<ul><li>1ë²ˆ ì‹¤í–‰ë  ê²ƒì´ ë³´ì¥ë¨</li><li>ì‘ì—… ì§ë ¬í™”, Nesting ì—†ë‹¤ (strictly serialized)</li><li>ë‹¤ë¥¸ íƒ€ì…ì˜ taskletì€ ì—¬ëŸ¬ CPUì—ì„œ ë™ì‹œ ì‹¤í–‰ ê°€ëŠ¥</li></ul></li></ul><h2 id=softirq>softirq</h2><ul><li><strong>Software IRQ</strong></li><li>Def : Used to run the schduled tasklet</li><li>2.6.11ì˜ ê²½ìš° 6ê°€ì§€ ì¡´ì¬<ul><li>HI_SOFTIRQ</li><li>TIMER_SOFTIRQ</li><li>NET_TX_SOFTIRQ</li><li>NET_RX_SOFTIRQ</li><li>SCSI_SOFTIRQ</li><li>TASKLET_SOFTIRQ</li></ul></li><li>taskletìš©ìœ¼ë¡œëŠ” HI_SOFTIRQ, TASKLET_SOFTIRQë¥¼ ì‚¬ìš©í•œë‹¤. ë‚˜ë¨¸ì§€ëŠ” ì‚¬ì‹¤ìƒ ìš©ë„ê°€ ì •í•´ì ¸ìˆìœ¼ë‹ˆê¹Œ.</li></ul><h2 id=do_softirq>do_softirq()</h2><ul><li>ìµœëŒ€ 10ê°œì˜ ì‘ì—…ì„ êº¼ë‚´ì„œ ì²˜ë¦¬í•œë‹¤</li><li>ì´ê²ƒë³´ë‹¤ ë” ë§ì€ ì‘ì—…ì´ ì¡´ì¬í•˜ë©´ <code>wakeup_softirqd()</code>ë¥¼ í˜¸ì¶œí•´ì„œ ksoftirqdë¥¼ ê¹¨ìš´ë‹¤.</li><li><code>MAX_SOFTIRQ_RESTART</code> = 10, loop</li></ul><h2 id=ksoftirqd-kernel-thread>ksoftirqd Kernel Thread</h2><ul><li>why?<ul><li>ë§ì€ softirqê°€ ìŸì•„ì§€ëŠ” ê²ƒì„ ì¦‰ì‹œ ì²˜ë¦¬í•˜ë©´ user-modeë¡œ ê°ˆ ìˆ˜ ì—†ë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ë„¤íŠ¸ì›Œí¬ íŒ¨í‚·ì„ ë§ì„ë•Œ ì´ê²ƒì„ ê³„ì† ì²˜ë¦¬í•˜ë©´ ìœ ì € ëª¨ë“œ í”„ë¡œì„¸ìŠ¤ì˜ ì²˜ë¦¬ê°€ ë°€ë¦°ë‹¤</li></ul></li><li>softirq responsiveness vs ìœ ì € ëª¨ë“œ ì‘ì—… latency<ul><li>sol 1 : <code>do_softirq()</code> ë™ì•ˆ softirq ë¬´ì‹œ. ë„¤íŠ¸ì›ŒíŠ¸ ë°˜ì‘ì„± ë–¨ì–´ì§ˆìˆ˜ ìˆë‹¤.</li><li>sol 2 : softirqë¥¼ ë°›ëŠ”ëŒ€ë¡œ ì²˜ë¦¬. high load í™˜ê²½ì—ì„œ do_softirq()ê°€ ì•ˆëë‚ ìˆ˜ ìˆë‹¤. ì´ ê²½ìš° user mode ì‘ì—…ì€ ê±°ì˜ ë©ˆì¶˜ë‹¤</li></ul></li></ul><h3 id=ksoftirqd-ë°©ì‹>ksoftirqd ë°©ì‹</h3><ul><li>softirqë¥¼ ì¦‰ì‹œ ì²˜ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤. softirqê°€ ë§ìœ¼ë©´ ksoftirqdë¥¼ ê¹¨ìš´ ë‹¤ìŒì— ì´ê²ƒì´ ì²˜ë¦¬í•œë‹¤</li><li>ksoftirqdì˜ ìš°ì„ ìˆœìœ„ëŠ ê°€ì¥ ë‚®ë‹¤. ê·¸ë˜ì„œ user mode í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë  ê¸°íšŒê°€ ìˆë‹¤</li><li>kernel threadëŠ” ìœ ì € í”„ë¡œì„¸ìŠ¤ ì²˜ëŸ¼ í–‰ë™í•˜ë‚Ÿ. ìŠ¤ì¼€ì¤„ë§ë˜ì„œ ì‹¤í–‰</li></ul><h2 id=work-queue>work queue</h2><ul><li>worker threadë¼ëŠ” íŠ¹ë³„í•œ ì»¤ë„ ì“°ë ˆë“œ ì¨ì„œ ì‘ì—…ì„ ë‚˜ì¤‘ì— ì²˜ë¦¬í•œë‹¤</li><li>process contextì—ì„œ ì‹¤í–‰ëœë‹¤.<ul><li>sleep, block í•¨ìˆ˜ë„ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤</li></ul></li><li>í•˜ë‚˜ì˜ work queueëŠ” cpuë³„ë¡œ í•˜ë‚˜ì˜ work threadë¥¼ ê°€ì§„ë‹¤</li><li>worker thread : ì‘ì—…ì´ ìˆìœ¼ë©´ íì—ì„œ êº¼ë‚´ì„œ ì‹¤í–‰, ì—†ìœ¼ë©´ sleep</li><li>event work-queueëŠ” ì»¤ë„ì—ì„œ ì´ë¯¸ ì œê³µí•œë‹¤</li><li>ëŒ€ë¶€ë¶„ì˜ ë“œë¼ì´ë²„ëŠ” ê¸°ë³¸ worker threadë¥¼ ì‚¬ìš©í•œë‹¤.</li></ul><h2 id=interrupt-control>Interrupt Control</h2><ul><li>ì¸í„°ëŸ½íŠ¸ ë„ê¸°ëŠ” ë™ê¸°í™” ë•Œë¬¸ì— í•„ìš”<ul><li>critical region ì‹¤í–‰ ë„ì¤‘ ì¸í„°ëŸ½íŠ¸ ê±¸ë¦¬ë©´?</li><li>interrupt handlerê°€ í˜„ì¬ ì½”ë“œë¥¼ ì„ ì í•˜ëŠ” ê²ƒì„ ë§‰ìœ¼ë ¤ê³  í•„ìš”</li></ul></li><li>ê´€ë ¨ í•¨ìˆ˜<ul><li><code>local_irq_disable()</code></li><li><code>local_irq_enable()</code></li><li><code>local_irq_save()</code> : save + disable</li><li><code>local_irq_restore()</code> : restore</li></ul></li><li>disabl/enableë§Œ ìˆìœ¼ë©´ í•¨ìˆ˜ ì•ˆì—ì„œ ë‹¤ì‹œ í•¨ìˆ˜ í˜¸ì¶œì‹œ ì¸í„°ëŸ½íŠ¸ êº¼ë†“ì€ê²Œ ê¼¬ì¼ìˆ˜ ìˆë‹¤</li><li>ëª¨ë“  CPUì˜ íŠ¹ì • IRQë¥¼ ë„ëŠ” í•¨ìˆ˜ë„ ì¡´ì¬</li></ul></div><div class=tags><a href=https://if1live.github.io/tags/linux/>linux</a>
<a href=https://if1live.github.io/tags/system-programming/>system programming</a>
<a href=https://if1live.github.io/tags/interrupt/>interrupt</a>
<a href=https://if1live.github.io/tags/exception/>exception</a>
<a href=https://if1live.github.io/tags/study/>study</a></div><hr><div class=pagination><div class="left pagination-item"><a href=https://if1live.github.io/posts/system-prog-linux-process-schduling/>ğŸ¡° Linux Process Scheduling</a></div><div class="right pagination-item"><a href=https://if1live.github.io/posts/with-statement-cpp/>C++ì—ì„œ Pythonì˜ with statment êµ¬í˜„í•˜ê¸° ğŸ¡²</a></div></div><div class=see-also><h2>See Also</h2><ul><li><a href=/posts/system-prog-linux-process-schduling/>Linux Process Scheduling</a></li><li><a href=/posts/system-prog-linux-processes/>Linux Processes</a></li></ul></div><div id=comment><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//libsora.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></section></div><footer class=sora-footer><p><a href=//gohugo.io/ title=Hugo>Hugo</a> |
<a href=//twitter.com/if1live/ title=@if1live>@if1live</a></p></footer><script src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js integrity="sha512-BttltKXFyWnGZQcRWj6osIg7lbizJchuAMotOkdLxHxwt/Hyo+cl47bZU0QADg+Qt5DJwni3SbYGXeGMB5cBcw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-clike.min.js integrity="sha512-/Rynaa6ehLZJO9fdk+EUsgiOdJqFSFUB4Qgy+gP4vU4U1DrmPJWypfXe1CgyaV7rRdZjGxdpLe9djxhx1ZHvqQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js integrity="sha512-8VrjxGFLIkS0mgEmO3p46A5OkqATHhrNVwyv2V7yUeZrk1jmSDuI3SOEpC9XHEHUWEOsfzzcJeBlUkee9lKGrw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js integrity="sha512-namzGTZvHaug0jeipHRN2pMepMiJj+EbrloktVFlMYGnA0EwZhbdLeENjBYLCgoghVbZGinIz/FFYHmB0o3wLw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js integrity="sha512-uOw7XYETzS/DPmmirpP5UCMihSDNMeyTS965J0/456OSPfxn9xEtHHjj5Q/5WefVdqyMfN/afmQnNpZd/tpkcA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js integrity="sha512-AKaNmg8COK0zEbjTdMHJAPJ0z6VeNqvRvH4/d5M4sHJbQQUToMBtodq4HaV4fa+WV2UTfoperElm66c9/8cKmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js integrity="sha512-jwrwRWZWW9J6bjmBOJxPcbRvEBSQeY4Ad0NEXSfP0vwYi/Yu9x5VhDBl3wz6Pnxs8Rx/t1P8r9/OHCRciHcT7Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js integrity="sha512-xKcnbsdT0KMoA4yrozkqZM1XJVTrPsjdQwvigxlAlxEDu8YDvC/jl+LfVqn0fY3Vs6m2y4a89JCHEIA/Z9zpmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-csharp.min.js integrity="sha512-pmt3kb6dRndjFXFFwCa3rSzuUQ0GjeCfC5QULWde+8ZBIsUzuP1heOIOSAMfAyXHSufrrTp8h7UHw85K4IJ2/g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js integrity="sha512-whYhDwtTmlC/NpZlCr6PSsAaLOrfjVg/iXAnC4H/dtiHawpShhT2SlIMbpIhT/IL/NrpdMm+Hq2C13+VKpHTYw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-ruby.min.js integrity="sha512-/Dti0iV9cxgJe8r0U/89YJIv9ZBQu1ExEWffVyBj4juMQ4GNglQ3TQ0Up4gcbiHvg0g87arcUFbKBtw2PxH1Dw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js integrity="sha512-w200Nz1i9KgDNi+IpPMgpZBVRIvfVK/V5vskyHjkz7XJkVnRJcb1uNmpiHhDv0/Ln+GG2VqScKKz/1izBfg64Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-less.min.js integrity="sha512-lL5HvfIycntK04Iiai/VTsyuj7mvDkhz9k+cA8fqXr932s4jLJ1YwplIs6Dhpw0pzVwAe1jGe8sGwbyuHG44QQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-scss.min.js integrity="sha512-aczOaJ+mB9uGT6dMJbDaUsS2PWG+XII+1ypFQ0L22Z132V6kMM6m70pQssXsPAFmLI5xkgx/hknBuUuJIJKZfA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js integrity="sha512-uMdVuOpm+9lNPCT7mV/YaMb9YQ/R4+eeON7aEMj6Ig/f4BoU+Q5k6iaZkDsX7LH9cjTHZt0CuKxbzd0/fndrWA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js integrity="sha512-QXFMVAusM85vUYDaNgcYeU3rzSlc+bTV4JvkfJhjxSHlQEo+ig53BtnGkvFTiNJh8D+wv6uWAQ2vJaVmxe8d3w==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js integrity="sha512-6O/PZimM3TD1NN3yrazePA4AbZrPcwt1QCGJrVY7WoHDJROZFc9TlBvIKMe+QfqgcslW4lQeBzNJEJvIMC8WhA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-batch.min.js integrity="sha512-tPgIjUKiv2HcUAIWXA3v6G4cNuWXkoMsF+ibxfHLnp+/s1C3Bw5/qp78+JjhrfoyWIiHXHx0LtH4M/LAwyQqWg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lisp.min.js integrity="sha512-W461RnQzrhSCQQMfEGFKOHbK2DuJTVxrXs2PzctPaxV3A+qPB/TcnMgucSsBNkyccNK8VoENBsAnbf/SuBE71g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin=anonymous></script>
<script>renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]});for(var inlineMathArray=document.querySelectorAll("script[type='math/tex']"),inlineMath,tex,replaced,displayMathArray,displayMath,i=0;i<inlineMathArray.length;i++)inlineMath=inlineMathArray[i],tex=inlineMath.innerText||inlineMath.textContent,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex,{displayMode:!1}),inlineMath.parentNode.replaceChild(replaced,inlineMath);displayMathArray=document.querySelectorAll("script[type='math/tex; mode=display']");for(i=0;i<displayMathArray.length;i++)displayMath=displayMathArray[i],tex=displayMath.innerHTML,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex.replace(/%.*/g,""),{displayMode:!0}),displayMath.parentNode.replaceChild(replaced,displayMath)</script></body></html>