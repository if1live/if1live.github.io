<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.116.1"><title>ìœˆë„ìš°ì—ì„œ ê¸¸ê³  ì•„ë¦„ë‹¤ìš´ ê²½ë¡œëª…ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²• - if1live space</title><meta name=author content="if1live"><meta name=title content="ìœˆë„ìš°ì—ì„œ ê¸¸ê³  ì•„ë¦„ë‹¤ìš´ ê²½ë¡œëª…ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•"><meta name=description content="MAX_PATH ìœˆë„ìš°ëŠ” ê²½ë¡œ ìµœëŒ€ê¸¸ì´ê°€ ì œí•œë˜ì–´ ìˆë‹¤. MAX_PATHë¼ëŠ” ìƒìˆ˜ë¡œ 260ì´ë‹¤. ê·¸ë˜ì„œ ë§¤ìš° ê¸´ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“  ë‹¤ìŒì— ì•ˆì—ì„œ íŒŒì¼ì„ ë§Œë“¤ë¼ê³ í•˜ë©´ ë‹¤ìŒê³¼ ê°™"><meta name=keywords content="techinque,prefix"><meta name=naver-site-verification content="2ddc1a56777489f4a64a4f6a59822f8b1c1ea502"><meta name=google-site-verification content="VsvNNnJZUV-iLEYKNju16p-HtDqZeqL15H-VVy-HwpA"><meta name=gc:client-id content="785d47c81cbc2fd42b65"><meta name=gc:client-secret content="5e5d558f0b16fae154aa47fc9d94f7c09e540ec7"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><script type=text/javascript>var host="if1live.github.io";host==window.location.host&&window.location.protocol!="https:"?window.location.protocol="https":console.log("skip https redirect")</script><link rel=stylesheet href=/css/style.ad6245cc6a90c30a30dba42b8bbe9be63bed9ea169e339d8ecfc6b9afc6eb8382bbd422b2d31dc71c3355c79f057ddcaa7e1ca96b5eb7f5f16a28a34e74051db.css integrity="sha512-rWJFzGqQwwow26Qri76b5jvtnqFp4znY7PxrmvxuuDgrvUIrLTHcccM1XHnwV93Kp+HKlrXrf18Wooo050BR2w=="><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin=anonymous><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-3043297488880636",enable_page_level_ads:!0})</script><meta property="og:title" content="ìœˆë„ìš°ì—ì„œ ê¸¸ê³  ì•„ë¦„ë‹¤ìš´ ê²½ë¡œëª…ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•"><meta property="og:description" content="MAX_PATH ìœˆë„ìš°ëŠ” ê²½ë¡œ ìµœëŒ€ê¸¸ì´ê°€ ì œí•œë˜ì–´ ìˆë‹¤. MAX_PATHë¼ëŠ” ìƒìˆ˜ë¡œ 260ì´ë‹¤. ê·¸ë˜ì„œ ë§¤ìš° ê¸´ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“  ë‹¤ìŒì— ì•ˆì—ì„œ íŒŒì¼ì„ ë§Œë“¤ë¼ê³ í•˜ë©´ ë‹¤ìŒê³¼ ê°™"><meta property="og:type" content="article"><meta property="og:url" content="https://if1live.github.io/posts/dispatch-by-prefix/"><meta property="og:image" content="https://www.gravatar.com/avatar/fb9672e7e0d256f39369595381d1ea07?size=160"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-06-05T00:00:00+00:00"><meta property="article:modified_time" content="2016-06-05T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.gravatar.com/avatar/fb9672e7e0d256f39369595381d1ea07?size=160"><meta name=twitter:title content="ìœˆë„ìš°ì—ì„œ ê¸¸ê³  ì•„ë¦„ë‹¤ìš´ ê²½ë¡œëª…ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•"><meta name=twitter:description content="MAX_PATH ìœˆë„ìš°ëŠ” ê²½ë¡œ ìµœëŒ€ê¸¸ì´ê°€ ì œí•œë˜ì–´ ìˆë‹¤. MAX_PATHë¼ëŠ” ìƒìˆ˜ë¡œ 260ì´ë‹¤. ê·¸ë˜ì„œ ë§¤ìš° ê¸´ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“  ë‹¤ìŒì— ì•ˆì—ì„œ íŒŒì¼ì„ ë§Œë“¤ë¼ê³ í•˜ë©´ ë‹¤ìŒê³¼ ê°™"><meta name=twitter:site content="@if1live"><script async src="https://www.googletagmanager.com/gtag/js?id=G-SKE54STL16"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SKE54STL16",{anonymize_ip:!1})}</script></head><body><nav class=sora-navigation><a href=/ title=home><h1>if1live space</h1></a><ul class=menu-button-list><li><a href=/posts title=archive><i class="fa-solid fa-box-archive"></i>
<span hidden>archive</span></a></li><li><a href=/tags title=tags><i class="fa-solid fa-tags"></i>
<span hidden>tags</span></a></li><li><a href=//github.com/if1live title=GitHub><i class="fa-brands fa-github"></i>
<span hidden>GitHub</span></a></li><li><a href=/about title=about><i class="fa-solid fa-info"></i>
<span hidden>about</span></a></li><li><a href=https://if1live.github.io/index.xml title=RSS><i class="fa-solid fa-rss"></i>
<span hidden>RSS</span></a></li></ul></nav><div class=main><section id=single><h1 class=title><span>ìœˆë„ìš°ì—ì„œ ê¸¸ê³  ì•„ë¦„ë‹¤ìš´ ê²½ë¡œëª…ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•</span><br><small>prefixë¥¼ ì´ìš©í•œ ê¸°ë²•</small></h1><div class=tip><time datetime="2016-06-05 00:00:00 +0000 UTC">2016. 06. 05</time></div><div class=content><h2 id=max_path>MAX_PATH</h2><p>ìœˆë„ìš°ëŠ” ê²½ë¡œ ìµœëŒ€ê¸¸ì´ê°€ ì œí•œë˜ì–´ ìˆë‹¤. <code>MAX_PATH</code>ë¼ëŠ” ìƒìˆ˜ë¡œ 260ì´ë‹¤.
ê·¸ë˜ì„œ ë§¤ìš° ê¸´ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“  ë‹¤ìŒì— ì•ˆì—ì„œ íŒŒì¼ì„ ë§Œë“¤ë¼ê³ í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.</p><p><p class=markdown-image><img src=newfile-fail.png alt="new file fail"></p></p><p>ì§€ê¸ˆì´ 90ë…„ëŒ€ ì»´í“¨í„°ë„ ì•„ë‹ˆê³  ê³ ì‘ 260ê¸€ìê¹Œì§€ë°–ì— ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ê³ ?
MAX_PATHê°€ 260ë¼ë‹ˆ ìœˆë„ìš°ì— ì‹¤ë§í–ˆìŠµë‹ˆë‹¤. ìœˆë„ìš° íŒ¬ ê·¸ë§Œë‘¡ë‹ˆë‹¤.</p><p>ë¡œ ëë‚´ë©´ ì¬ë¯¸ì—†ë‹¤. MSDNì„ ì½ì–´ë³´ì.</p><h3 id=msdn>MSDN</h3><blockquote><p>Maximum Path Length Limitation</p><p>In the Windows API (with some exceptions discussed in the following paragraphs),
the maximum length for a path is MAX_PATH, which is defined as 260 characters.
A local path is structured in the following order:
drive letter, colon, backslash, name components separated by backslashes, and a terminating null character.
For example, the maximum path on drive D is &ldquo;D:\some 256-character path string<nul>&rdquo;
where &ldquo;<nul>&rdquo; represents the invisible terminating null character for the current system codepage.
(The characters &lt; > are used here for visual clarity and cannot be part of a valid path string.)</p><p>The Windows API has many functions that also have Unicode versions to permit an extended-length path
for a maximum total path length of 32,767 characters.
This type of path is composed of components separated by backslashes,
each up to the value returned in the lpMaximumComponentLength parameter of the GetVolumeInformation function
(this value is commonly 255 characters).
To specify an extended-length path, use the &ldquo;\?" prefix.
For example, &ldquo;\?\D:\very long path&rdquo;.</p><p><a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx">Naming Files, Paths, and Namespaces</a></p></blockquote><ul><li><code>C:\short path</code> : ê¸°ì¡´ ë°©ì‹ìœ¼ë¡œ ì‘ë™. MAX_PATH ì˜ ì œì•½ì„ ë²—ì–´ë‚˜ì§€ ëª»í•œë‹¤.</li><li><code>\\?\D:\very long path</code> : <code>\\?\</code> prefixë¥¼ ì‚¬ìš©í•˜ë©´ 32767ê¸€ìê¹Œì§€ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.</li></ul><h3 id=example>Example</h3><p>MSDNì— ìˆëŠ” ë‚´ìš©ì„ ì°¸ê³ í•´ì„œ ê°„ë‹¨í•œ ì˜ˆì œë¥¼ ì§¯ë‹¤.</p><ol><li>Cë“œë¼ì´ë¸Œì— ë“¤ì–´ê°„ë‹¤</li><li>ìƒˆë¡œìš´ ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“ ë‹¤. ë””ë ‰í† ë¦¬ ì´ë¦„ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123</li><li>ì†ŒìŠ¤ë¥¼ ì»´íŒŒì¼í•˜ê³  ëŒë ¤ë³¸ë‹¤.</li></ol><pre><code class="language-cpp line-numbers">#define USE_EXTENDED_LENGTH 1

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string&gt;
#include &lt;vector&gt;

const std::string dirname  = &#34;0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123&#34;;
const std::string filename = &#34;0123456789012345678901234567890123456789012345678901234567890123456789.txt&#34;;

int main()
{
  std::string filepath = R&#34;(c:\)&#34; &#43; dirname &#43; R&#34;(\)&#34; &#43; filename;
#if USE_EXTENDED_LENGTH
  filepath = std::string(R&#34;(\\?\)&#34;) &#43; filepath;
#endif

  FILE *f = nullptr;
  errno_t err = fopen_s(&amp;f, filepath.data(), &#34;wb&#34;);
  if(err == 0) {
    fprintf_s(f, &#34;hello world\n&#34;);
    fclose(f);
  } else {
    fprintf(stderr, &#34;error code : %d\n&#34;, err);
  }
  return 0;
}</code></pre><p><code>USE_EXTENDED_LENGTH</code>ê°€ ë¹„í™œì„±í™” ë˜ì–´ìˆìœ¼ë©´ <code>\\?\</code>ë¥¼ ë¶™ì´ì§€ ì•ŠëŠ”ë‹¤.
í™œì„±í™” ë˜ì–´ìˆìœ¼ë©´ <code>\\?\</code>ë¥¼ ë¶™ì—¬ì¤€ë‹¤.</p><p><code>\\?\</code>ê°€ ì—†ìœ¼ë©´ ê¸°ì¡´ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ê³  ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.<p class=markdown-image><img src=long-path-cpp-fail.png alt="long path c++ fail"></p></p><p><code>\\?\</code>ê°€ ìˆìœ¼ë©´ ìƒˆë¡œìš´ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤. ê·¸ë˜ì„œ ë§¤ìš°ê¸´ ê²½ë¡œì˜ íŒŒì¼ëª…ë„ ë¬¸ì œì—†ì´ ë§Œë“¤ ìˆ˜ ìˆë‹¤.<p class=markdown-image><img src=newfile-success.png alt="new file success"></p></p><h3 id=why>Why?</h3><p>ë§ˆì´í¬ë¡œì†Œí”„íŠ¸ëŠ” í•˜ìœ„í˜¸í™˜ì„±ì„ ê·¹ë‹¨ì ìœ¼ë¡œ ì¤‘ìš”ì‹œí•˜ëŠ” íšŒì‚¬ì´ë‹¤.
ì• í”Œì²˜ëŸ¼ OS ìƒˆë¡œ ì—…ê·¸ë ˆì´ë“œí–ˆë‹¤ê³  ì˜›ë‚ ì— ëŒì•„ê°€ë˜ í”„ë¡œê·¸ë¨ì´ ì•ˆëŒì•„ê°€ëŠ” ê²½ìš°ëŠ” ìì£¼ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.
ì´ëŸ° íšŒì‚¬ì—ì„œ <code>MAX_PATH</code>ë¥¼ ê³ ì¹˜ê²Œ ê°€ëŠ¥í• ê¹Œ?
ë‹¤ë¥¸ ê°œë°œìë“¤ì´ <code>MAX_PATH</code>ë¥¼ ì´ìš©í•´ì„œ ì–´ë–¤ ê¸°ê´´í•œ ì§“ì„ í–ˆì„ì¤„ ì•Œê³ ?
ê·¸ë ‡ì§€ë§Œ 260ê¸€ì ì œí•œì„ ê³„ì† ìœ ì§€í•˜ëŠ”ê±´ ë§ì´ ì•ˆëœë‹¤.</p><p>ë§ˆì†ŒëŠ” prefixë¥¼ ì´ìš©í•´ì„œ ì´ ë¬¸ì œë¥¼ í•´ê²°í•œ ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.
ìƒê¸´ê²Œ ë»”í•˜ë©´ ê¸°ì¡´ ë°©ì‹(MAX_PATH)ë¥¼ ì´ìš©í•œë‹¤.
ì ˆëŒ€ë¡œ ì‚¬ìš©í• ê±°ê°™ì§€ ì•Šì€ prefixì¸ <code>\\?\</code>ë¥¼ ë¶™ì´ë©´ ìƒˆë¡œìš´ ë°©ì‹ì„ ì´ìš©í•œë‹¤.
ì´ë ‡ê²Œ í•˜ë©´ í•˜ìœ„í˜¸í™˜ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì§€ì›í• ìˆ˜ ìˆë‹¤.</p><h2 id=ì‘ìš©-ì˜ˆì œ--utf-8>ì‘ìš© ì˜ˆì œ : UTF-8</h2><p>prefixì— ë”°ë¼ì„œ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ ë°”ë€ŒëŠ” ë‹¤ë¥¸ ì˜ˆì œëŠ” UTF-8ì´ë‹¤.
ì–´ë–¤ ì‹ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ëŠ” í‘œë§Œ ë´ë„ ê°ì„ ì¡ì„ìˆ˜ ìˆì„ê±°ë‹¤.</p><table><thead><tr><th>Bytes in sequence</th><th>Byte 1</th><th>Byte 2</th><th>Byte 3</th><th>Byte 4</th></tr></thead><tbody><tr><td>1</td><td><code>0xxxxxxx</code></td><td></td><td></td><td></td></tr><tr><td>2</td><td><code>110xxxxx</code></td><td><code>10xxxxxx</code></td><td></td><td></td></tr><tr><td>3</td><td><code>1110xxxx</code></td><td><code>10xxxxxx</code></td><td><code>10xxxxxx</code></td><td></td></tr><tr><td>4</td><td><code>11110xxx</code></td><td><code>10xxxxxx</code></td><td><code>10xxxxxx</code></td><td><code>10xxxxxx</code></td></tr></tbody></table><h2 id=í‘ë§ˆë²•ìœ¼ë¡œ-ì‘ìš©>í‘ë§ˆë²•ìœ¼ë¡œ ì‘ìš©</h2><p>ì¢‹ì€ ê¸°ë²•ì„ ë°°ì› ìœ¼ë‹ˆ í‘ë§ˆë²•ìœ¼ë¡œ ì‘ìš©í•´ë³´ì.
ì•„ë˜ëŠ” ì´ì „ì— prefix ê¸°ë²•ì„ ì´ìš©í•œ ì‚¬ë¡€ì´ë‹¤.</p><ol><li><code>int do_something(const char *s)</code> ê°™ì´ ìƒê¸´ í•¨ìˆ˜ê°€ ìˆë‹¤.</li><li>í•¨ìˆ˜ ì•ˆì—ì„œëŠ” <code>strlen()</code>ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤.</li><li>í•¨ìˆ˜ ì¸ìë¡œ ì ì ˆí•œ ë¬¸ìì—´ì„ ë„£ê³  ê²°ê³¼ê°’ì„ ë°›ëŠ”ë‹¤.</li></ol><p>ìœ„ì™€ ê°™ì€ í•¨ìˆ˜ê°€ ìˆë‹¤. ê²‰ë³´ê¸°ì—ëŠ” ë³„ ë¬¸ì œê°€ ì—†ì–´ë³´ì¸ë‹¤.
ê·¸ëŸ°ë° ê°œë°œì„ í•˜ë‹¤ë³´ë‹ˆ ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­ì´ ì¶”ê°€ë˜ì—ˆë‹¤.</p><ul><li><code>\0</code>ì´ ë¬¸ìì—´ ì¤‘ê°„ì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤. (ì˜ˆ: <code>abc\0def</code>ëŠ” 7ê¸€ìë¡œ ì¸ì‹í•´ì•¼ í•œë‹¤)</li><li>í•¨ìˆ˜ê°€ ì‚¬ìš©í•˜ëŠ” ê³³ì€ ë§¤ìš° ë§ì€ë° í•œêµ°ë°ì—ì„œë§Œ <code>\0</code>ì„ ì§€ì›í•´ë„ ë¬¸ì œì—†ë‹¤.</li></ul><p>í˜„ì¬ì˜ í•¨ìˆ˜ë¡œëŠ” ìœ„ì˜ ìš”êµ¬ì‚¬í•­ì„ ëŒ€ì‘í•˜ê¸° ì–´ë µë‹¤.</p><ol><li>ë¬¸ìì—´ì˜ ëì„ ì•Œìˆ˜ ì—†ë‹¤. <code>strlen()</code>ëŠ” <code>\0</code>ê°€ ë¬¸ìì—´ ì¤‘ê°„ì— ì„ì—¬ìˆìœ¼ë©´ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.</li><li>í•¨ìˆ˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê³ ì¹˜ê¸°ì—ëŠ” ìˆ˜ì •í•  ì½”ë“œê°€ ë§ë‹¤. ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­ì´ í•„ìš”í•œ ê³³ì€ í•œêµ°ë°ì¸ë° ì´ë¥¼ ìœ„í•´ì„œ ë§¤ìš° ë§ì€ ì½”ë“œë¥¼ ê³ ì³ì•¼í•œë‹¤. ì¸í„°í˜ì´ìŠ¤ í•˜ìœ„í˜¸í™˜ì„±ì„ ê¹¨ê³ ì‹¶ì§„ ì•Šë‹¤.</li></ol><p>ê·¸ë˜ì„œ ì•¼ë§¤ë¡œ ì½”ë“œë¥¼ ìˆ˜ì •í–ˆë‹¤.</p><p>ì¼ë°˜ì ì¸ ë¬¸ìì—´ <code>abc</code>ëŠ” í‰ì†Œì— ì“°ë˜ëŒ€ë¡œ ì¸ìì— ë„£ì–´ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. ë™ì‘ë„ ê¸°ì¡´ ê·¸ëŒ€ë¡œ ìœ ì§€í•œë‹¤.</p><p><code>\0</code>ì´ ì¤‘ê°„ì— ë“¤ì–´ê°„ ê²½ìš° base64 ì¸ì½”ë”©í•œ ë‹¤ìŒì— prefixë¥¼ ë¶™ì¸ ê°’ì„ ì¸ìë¡œ ì‚¬ìš©í–ˆë‹¤.
ì¸ìë¡œ <code>prefix(0x01) + base64_encode("abc\0def")</code> ê°™ì€ ê°’ì„ ì´ìš©í–ˆë‹¤.
ì¼ë°˜ì ì¸ ë¬¸ìì—´ì—ì„œëŠ” ì“¸ê±°ê°™ì§€ ì•Šì€ ê°’ì„ ì²«ë²ˆì§¸ ê¸€ìì— ë„£ê³  ì´ë¥¼ ì½ì–´ì„œ ë¶„ê¸°í–ˆë‹¤.</p><pre><code class="language-cpp line-numbers">// ì›ë˜ ìˆë˜ ì½”ë“œë¥¼ ìƒˆë¡œìš´ í•¨ìˆ˜ë¡œ ë¶„ë¦¬
static int original_logic(const char *s, int length) {.....}

int do_something(const char *s) {
  if(s == nullptr) {
    return original_logic(s, 0);
  }

  if(s[0] == 0x01) {
    const char *base64_str = s[1];
    int length = 0;
    const char *str = base64_decode(base64_str, &amp;length);
    return original_logic(str, length);

  } else {
    return original_logic(s, strlen(s));
  }
}


int main()
{
  // ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ ìœ ì§€
  do_something(&#34;hello world&#34;);

  // \0 ì´ ìˆì„ë•Œë„ ë™ì‘
  char buffer[512];
  buffer[0] = 0x01;
  base64_encode(&#34;hello\0world&#34;, buffer[1]);
  do_something(buffer);
}</code></pre></div><div class=tags><a href=https://if1live.github.io/tags/techinque/>techinque</a>
<a href=https://if1live.github.io/tags/prefix/>prefix</a></div><hr><div class=pagination><div class="left pagination-item"><a href=https://if1live.github.io/posts/gksrmfdldkscuwudy-post-mortem/>ğŸ¡° gksrmfdldkscuwudy í¬ìŠ¤íŠ¸ëª¨í…œ</a></div><div class="right pagination-item"><a href=https://if1live.github.io/posts/migration-from-pelican-to-hugo-post-mortem/>ë¸”ë¡œê·¸ë¥¼ Pelicanì—ì„œ Hugoë¡œ ì´ì‚¬í•˜ê¸° ğŸ¡²</a></div></div><div class=see-also></div><div id=comment><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//libsora.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></section></div><footer class=sora-footer><p><a href=//gohugo.io/ title=Hugo>Hugo</a> |
<a href=//twitter.com/if1live/ title=@if1live>@if1live</a></p></footer><script src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js integrity="sha512-BttltKXFyWnGZQcRWj6osIg7lbizJchuAMotOkdLxHxwt/Hyo+cl47bZU0QADg+Qt5DJwni3SbYGXeGMB5cBcw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-clike.min.js integrity="sha512-/Rynaa6ehLZJO9fdk+EUsgiOdJqFSFUB4Qgy+gP4vU4U1DrmPJWypfXe1CgyaV7rRdZjGxdpLe9djxhx1ZHvqQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js integrity="sha512-8VrjxGFLIkS0mgEmO3p46A5OkqATHhrNVwyv2V7yUeZrk1jmSDuI3SOEpC9XHEHUWEOsfzzcJeBlUkee9lKGrw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js integrity="sha512-namzGTZvHaug0jeipHRN2pMepMiJj+EbrloktVFlMYGnA0EwZhbdLeENjBYLCgoghVbZGinIz/FFYHmB0o3wLw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js integrity="sha512-uOw7XYETzS/DPmmirpP5UCMihSDNMeyTS965J0/456OSPfxn9xEtHHjj5Q/5WefVdqyMfN/afmQnNpZd/tpkcA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js integrity="sha512-AKaNmg8COK0zEbjTdMHJAPJ0z6VeNqvRvH4/d5M4sHJbQQUToMBtodq4HaV4fa+WV2UTfoperElm66c9/8cKmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js integrity="sha512-jwrwRWZWW9J6bjmBOJxPcbRvEBSQeY4Ad0NEXSfP0vwYi/Yu9x5VhDBl3wz6Pnxs8Rx/t1P8r9/OHCRciHcT7Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js integrity="sha512-xKcnbsdT0KMoA4yrozkqZM1XJVTrPsjdQwvigxlAlxEDu8YDvC/jl+LfVqn0fY3Vs6m2y4a89JCHEIA/Z9zpmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-csharp.min.js integrity="sha512-pmt3kb6dRndjFXFFwCa3rSzuUQ0GjeCfC5QULWde+8ZBIsUzuP1heOIOSAMfAyXHSufrrTp8h7UHw85K4IJ2/g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js integrity="sha512-whYhDwtTmlC/NpZlCr6PSsAaLOrfjVg/iXAnC4H/dtiHawpShhT2SlIMbpIhT/IL/NrpdMm+Hq2C13+VKpHTYw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-ruby.min.js integrity="sha512-/Dti0iV9cxgJe8r0U/89YJIv9ZBQu1ExEWffVyBj4juMQ4GNglQ3TQ0Up4gcbiHvg0g87arcUFbKBtw2PxH1Dw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js integrity="sha512-w200Nz1i9KgDNi+IpPMgpZBVRIvfVK/V5vskyHjkz7XJkVnRJcb1uNmpiHhDv0/Ln+GG2VqScKKz/1izBfg64Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-less.min.js integrity="sha512-lL5HvfIycntK04Iiai/VTsyuj7mvDkhz9k+cA8fqXr932s4jLJ1YwplIs6Dhpw0pzVwAe1jGe8sGwbyuHG44QQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-scss.min.js integrity="sha512-aczOaJ+mB9uGT6dMJbDaUsS2PWG+XII+1ypFQ0L22Z132V6kMM6m70pQssXsPAFmLI5xkgx/hknBuUuJIJKZfA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js integrity="sha512-uMdVuOpm+9lNPCT7mV/YaMb9YQ/R4+eeON7aEMj6Ig/f4BoU+Q5k6iaZkDsX7LH9cjTHZt0CuKxbzd0/fndrWA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js integrity="sha512-QXFMVAusM85vUYDaNgcYeU3rzSlc+bTV4JvkfJhjxSHlQEo+ig53BtnGkvFTiNJh8D+wv6uWAQ2vJaVmxe8d3w==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js integrity="sha512-6O/PZimM3TD1NN3yrazePA4AbZrPcwt1QCGJrVY7WoHDJROZFc9TlBvIKMe+QfqgcslW4lQeBzNJEJvIMC8WhA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-batch.min.js integrity="sha512-tPgIjUKiv2HcUAIWXA3v6G4cNuWXkoMsF+ibxfHLnp+/s1C3Bw5/qp78+JjhrfoyWIiHXHx0LtH4M/LAwyQqWg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lisp.min.js integrity="sha512-W461RnQzrhSCQQMfEGFKOHbK2DuJTVxrXs2PzctPaxV3A+qPB/TcnMgucSsBNkyccNK8VoENBsAnbf/SuBE71g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin=anonymous></script>
<script>renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]});for(var inlineMathArray=document.querySelectorAll("script[type='math/tex']"),inlineMath,tex,replaced,displayMathArray,displayMath,i=0;i<inlineMathArray.length;i++)inlineMath=inlineMathArray[i],tex=inlineMath.innerText||inlineMath.textContent,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex,{displayMode:!1}),inlineMath.parentNode.replaceChild(replaced,inlineMath);displayMathArray=document.querySelectorAll("script[type='math/tex; mode=display']");for(i=0;i<displayMathArray.length;i++)displayMath=displayMathArray[i],tex=displayMath.innerHTML,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex.replace(/%.*/g,""),{displayMode:!0}),displayMath.parentNode.replaceChild(replaced,displayMath)</script></body></html>