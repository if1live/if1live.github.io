<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.116.1"><title>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì ˆëŒ€ê²½ë¡œ ì“°ê¸° - if1live space</title><meta name=author content="if1live"><meta name=title content="íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì ˆëŒ€ê²½ë¡œ ì“°ê¸°"><meta name=description content="ê°œìš” ìš”ìƒˆ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì“°ê³ ìˆë‹¤. 100ì¤„ì§œë¦¬ í”„ë¡œê·¸ë¨ ì§œëŠ”ê²Œ ì•„ë‹ˆë‹ˆ ì†ŒìŠ¤íŒŒì¼ì´ ìˆ˜ì‹­ê°œë¡œ ë‚˜ë‰˜ì–´ì ¸ìˆë‹¤. íŒŒì¼ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ë””ë ‰í† ë¦¬ êµ¬ì¡°ë„ ëª‡ë‹¨ê³„ë¡œ"><meta name=keywords content="typescript,ts-node,jest,webpack,alias"><meta name=naver-site-verification content="2ddc1a56777489f4a64a4f6a59822f8b1c1ea502"><meta name=google-site-verification content="VsvNNnJZUV-iLEYKNju16p-HtDqZeqL15H-VVy-HwpA"><meta name=gc:client-id content="785d47c81cbc2fd42b65"><meta name=gc:client-secret content="5e5d558f0b16fae154aa47fc9d94f7c09e540ec7"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><script type=text/javascript>var host="if1live.github.io";host==window.location.host&&window.location.protocol!="https:"?window.location.protocol="https":console.log("skip https redirect")</script><link rel=stylesheet href=/css/style.ad6245cc6a90c30a30dba42b8bbe9be63bed9ea169e339d8ecfc6b9afc6eb8382bbd422b2d31dc71c3355c79f057ddcaa7e1ca96b5eb7f5f16a28a34e74051db.css integrity="sha512-rWJFzGqQwwow26Qri76b5jvtnqFp4znY7PxrmvxuuDgrvUIrLTHcccM1XHnwV93Kp+HKlrXrf18Wooo050BR2w=="><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin=anonymous><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-3043297488880636",enable_page_level_ads:!0})</script><meta property="og:title" content="íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì ˆëŒ€ê²½ë¡œ ì“°ê¸°"><meta property="og:description" content="ê°œìš” ìš”ìƒˆ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì“°ê³ ìˆë‹¤. 100ì¤„ì§œë¦¬ í”„ë¡œê·¸ë¨ ì§œëŠ”ê²Œ ì•„ë‹ˆë‹ˆ ì†ŒìŠ¤íŒŒì¼ì´ ìˆ˜ì‹­ê°œë¡œ ë‚˜ë‰˜ì–´ì ¸ìˆë‹¤. íŒŒì¼ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ë””ë ‰í† ë¦¬ êµ¬ì¡°ë„ ëª‡ë‹¨ê³„ë¡œ"><meta property="og:type" content="article"><meta property="og:url" content="https://if1live.github.io/posts/use-absolute-path-in-typescript/"><meta property="og:image" content="https://www.gravatar.com/avatar/fb9672e7e0d256f39369595381d1ea07?size=160"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-02-10T00:00:00+00:00"><meta property="article:modified_time" content="2019-02-10T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.gravatar.com/avatar/fb9672e7e0d256f39369595381d1ea07?size=160"><meta name=twitter:title content="íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì ˆëŒ€ê²½ë¡œ ì“°ê¸°"><meta name=twitter:description content="ê°œìš” ìš”ìƒˆ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì“°ê³ ìˆë‹¤. 100ì¤„ì§œë¦¬ í”„ë¡œê·¸ë¨ ì§œëŠ”ê²Œ ì•„ë‹ˆë‹ˆ ì†ŒìŠ¤íŒŒì¼ì´ ìˆ˜ì‹­ê°œë¡œ ë‚˜ë‰˜ì–´ì ¸ìˆë‹¤. íŒŒì¼ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ë””ë ‰í† ë¦¬ êµ¬ì¡°ë„ ëª‡ë‹¨ê³„ë¡œ"><meta name=twitter:site content="@if1live"><script async src="https://www.googletagmanager.com/gtag/js?id=G-SKE54STL16"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SKE54STL16",{anonymize_ip:!1})}</script></head><body><nav class=sora-navigation><a href=/ title=home><h1>if1live space</h1></a><ul class=menu-button-list><li><a href=/posts title=archive><i class="fa-solid fa-box-archive"></i>
<span hidden>archive</span></a></li><li><a href=/tags title=tags><i class="fa-solid fa-tags"></i>
<span hidden>tags</span></a></li><li><a href=//github.com/if1live title=GitHub><i class="fa-brands fa-github"></i>
<span hidden>GitHub</span></a></li><li><a href=/about title=about><i class="fa-solid fa-info"></i>
<span hidden>about</span></a></li><li><a href=https://if1live.github.io/index.xml title=RSS><i class="fa-solid fa-rss"></i>
<span hidden>RSS</span></a></li></ul></nav><div class=main><section id=single><h1 class=title><span>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì ˆëŒ€ê²½ë¡œ ì“°ê¸°</span><br><small>typescript, absolute path, webpack, ts-node, jest</small></h1><div class=tip><time datetime="2019-02-10 00:00:00 +0000 UTC">2019. 02. 10</time></div><div class=content><h2 id=ê°œìš”>ê°œìš”</h2><p>ìš”ìƒˆ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì“°ê³ ìˆë‹¤.
100ì¤„ì§œë¦¬ í”„ë¡œê·¸ë¨ ì§œëŠ”ê²Œ ì•„ë‹ˆë‹ˆ ì†ŒìŠ¤íŒŒì¼ì´ ìˆ˜ì‹­ê°œë¡œ ë‚˜ë‰˜ì–´ì ¸ìˆë‹¤.
íŒŒì¼ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” ë””ë ‰í† ë¦¬ êµ¬ì¡°ë„ ëª‡ë‹¨ê³„ë¡œ ë‚´ë ¤ê°€ì•¼ í•œë‹¤.
ì†ŒìŠ¤ íŒŒì¼ê°„ì˜ importí•˜ëŠ” ì¼ì´ ë§ì€ë° íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìƒëŒ€ê²½ë¡œ ì“°ë”ë¼.
ê·¸ë˜ì„œ importì— ë“¤ì–´ê°€ëŠ” ê²½ë¡œê°€ ê¹¨ë—í•˜ì§€ ì•Šë‹¤.
<code>../../..</code>ê°€ ìì£¼ ë“±ì¥í•˜ë”ë¼.</p><pre><code class="language-typescript line-numbers">import { bar } from &#39;../../../../bar&#39;;

export const foo = () =&gt; {
  console.log(bar());
};</code></pre><p>ì„¤ê³„ì— ë”°ë¼ì„œëŠ” ìƒëŒ€ê²½ë¡œë¡œ ë°‘ì—ì„œ ê²½ë¡œë¥¼ ì ‘ê·¼í•˜ëŠ”ê²ƒë³´ë‹¤ ìœ„ì—ì„œ ë‚´ë ¤ê°€ëŠ”ê²Œ ë¹ ë¥¼ ìˆ˜ ìˆë‹¤.
ê·¸ë¦¬ê³  import ê²½ë¡œë¡œ ê¹”ë”í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p><pre><code class="language-typescript line-numbers">import { bar } from &#39;@src/bar&#39;;

export const foo = () =&gt; {
  console.log(bar());
};</code></pre><p>ì ˆëŒ€ê²½ë¡œë¼ê³  í‘œí˜„í•˜ê¸´ í–ˆì§€ë§Œ <code>c:\repo\sample\src\bar\index.ts</code>ê°™ì€ ì§„ì§œ ì ˆëŒ€ê²½ë¡œëŠ” ì“°ì§€ ì•Šì„ ê²ƒì´ë‹¤.
ì§„ì§œ ì ˆëŒ€ê²½ë¡œëŠ” ë‹¤ë¥¸ ì»´í“¨í„°ì—ì„œ ì•ˆëŒì•„ê°„ë‹¤.
í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¥¼ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì·¨ê¸‰í•˜ëŠ” ê²ƒì„ ì ˆëŒ€ê²½ë¡œë¼ê³  í‘œí˜„í• ê±°ë‹¤.
ìœ ì‚¬-ì ˆëŒ€ê²½ë¡œë¼ê³  ë¶€ë¥¼ ìˆ˜ ìˆë‹¤.</p><p>ì´ ê¸€ì—ì„œëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì ˆëŒ€ê²½ë¡œë¥¼ ì“°ëŠ” ë°©ë²•ì„ ì •ë¦¬í–ˆë‹¤.
ê·¸ë¦¬ê³  ë‚´ê°€ ìì£¼ ì“°ëŠ” ë„êµ¬ì¸ webpack, ts-node, jestê°€ ì œëŒ€ë¡œ ë™ì‘í•˜ê²Œ ì„¤ì •í•˜ëŠ” ë°©ë²•ë„ ì •ë¦¬í–ˆë‹¤.</p><h2 id=ìƒ˜í”Œ-í”„ë¡œì íŠ¸-êµ¬ì¡°>ìƒ˜í”Œ í”„ë¡œì íŠ¸ êµ¬ì¡°</h2><p>ì ˆëŒ€ê²½ë¡œê°€ ì˜ ëŒì•„ê°€ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ <a href=https://github.com/if1live/libsora.so/tree/master/content/typescript/use-absolute-path-in-typescript>ìƒ˜í”Œ í”„ë¡œì íŠ¸</a>ë¥¼ ë§Œë“¤ì—ˆë‹¤.
ë””ë ‰í† ë¦¬ êµ¬ì¡°ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p><pre class=markdown-textblock><code>.
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ foo
â”‚   â”‚   â””â”€â”€ a
â”‚   â”‚       â””â”€â”€ b
â”‚   â”‚           â””â”€â”€ c
â”‚   â”‚               â””â”€â”€ index.ts
â”‚   â””â”€â”€ bar
â”‚       â””â”€â”€ index.ts
â””â”€â”€ test
    â””â”€â”€ bar
        â””â”€â”€ index.test.ts</code></pre><p>src/index.tsê°€ í”„ë¡œì íŠ¸ì˜ ì§„ì…ì ì´ë‹¤.
src/index.tsëŠ” foo/a/b/c/index.tsë¥¼ ê°–ë‹¤ì“´ë‹¤.
src/foo/a/b/c/index.tsì—ì„œ src/bar/index.tsë¥¼ ê°–ë‹¤ì“´ë‹¤.
ìœ ë‹›í…ŒìŠ¤íŠ¸ëŠ” ë³„ë„ ë””ë ‰í† ë¦¬ë¡œ ë¶„ë¦¬í–ˆë‹¤.
í…ŒìŠ¤íŠ¸ëŠ” jestë¥¼ ì‚¬ìš©í•´ì„œ ëŒë¦´ê±°ë‹¤.</p><p>í•´ë‹¹ í”„ë¡œì íŠ¸ì—ì„œëŠ” ìƒëŒ€ê²½ë¡œë¥¼ ì“°ì§€ ì•ŠëŠ”ë‹¤.
ì ˆëŒ€ê²½ë¡œë§Œìœ¼ë¡œ ëŒì•„ê°€ê²Œ ë§Œë“¤ ê²ƒì´ë‹¤.</p><h2 id=tsc>tsc</h2><p>src/foo/a/b/c/index.ts ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
ìƒëŒ€ê²½ë¡œë¥¼ ì»ìœ¼ë©´ importê°€ ì–¼ë§ˆë‚˜ ê¸¸ì–´ì§€ëŠ”ì§€ ë¹„êµí•  ìˆ˜ ìˆë‹¤.</p><pre><code class="language-typescript line-numbers">// import { bar } from &#39;../../../../bar&#39;;
import { bar } from &#39;@src/bar&#39;;

export const foo = () =&gt; {
  console.log(bar());
};</code></pre><p>ì´ ì½”ë“œëŠ” ì»´íŒŒì¼ ë˜ì§€ ì•ŠëŠ”ë‹¤.
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” <code>@src</code>ê°€ ì–´ë””ì¸ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì´ë‹¤.
ë‚˜ëŠ” <code>@src</code>ê°€ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì˜ <code>/src</code>ë¼ê³  ì•Œê³ ìˆë‹¤.
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •íŒŒì¼ì„ ê³ ì¹˜ì.
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì»´íŒŒì¼ëŸ¬ê°€ <code>@src</code>ê°€ ë¬´ì—‡ì¸ì§€ ì•Œë©´ ì œëŒ€ë¡œ ì»´íŒŒì¼í•  ìˆ˜ ìˆë‹¤.</p><p>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë¬¸ì„œì—ì„œ <a href=https://www.typescriptlang.org/docs/handbook/module-resolution.html>Module Resolution</a>ë¥¼ ì°¾ì•„ë³´ì.
Path mapping í•­ëª©ì„ tsconfig.jsonì— ì ìš©í•˜ì.
pathsì™€ baseUrlì„ ì ì ˆíˆ ì„¤ì •í•´ì£¼ ì»´íŒŒì¼ëŸ¬ê°€ <code>@src</code>ë¥¼ ì´í•´í•  ìˆ˜ ìˆë‹¤.</p><p>tsconfig.json</p><pre><code class="language-json line-numbers">{
  &#34;compilerOptions&#34;: {
    ...
    &#34;baseUrl&#34;: &#34;.&#34;,
    &#34;paths&#34;: {
      &#34;@src/*&#34;: [
        &#34;src/*&#34;
      ]
    }
  }
}</code></pre><p>ì´ì œ ì»´íŒŒì¼ì´ ëœë‹¤.</p><h2 id=node>node</h2><p>ì»´íŒŒì¼ëœ ì½”ë“œë¥¼ nodeë¡œ ëŒë ¤ë³´ì.</p><pre class=markdown-textblock><code>$ node .\dist\src\index.js
internal/modules/cjs/loader.js:582
    throw err;
    ^

Error: Cannot find module '@src/bar'
    .....</code></pre><p>ì•ˆëŒì•„ê°„ë‹¤.
ì»´íŒŒì¼ë§Œ ë˜ì—ˆì„ë¿ì´ë‹¤.</p><p>tscì— ì˜í•´ì„œ ìƒì„±ëœ íŒŒì¼ì„ ì—´ì–´ë³´ë©´ ì›ì¸ì„ ì•Œ ìˆ˜ ìˆë‹¤.
ì†ŒìŠ¤ë¥¼ ë³´ë©´ <code>require(@src/bar)</code>ê°€ ìˆë‹¤.
í•˜ì§€ë§Œ nodeëŠ” <code>@src/bar</code>ê°€ ì–´ë–¤ ê²½ë¡œì¸ì§€ ëª¨ë¥¸ë‹¤.</p><pre><code class="language-javascript line-numbers">&#34;use strict&#34;;
Object.defineProperty(exports, &#34;__esModule&#34;, { value: true });
// import { bar } from &#39;../../../../bar&#39;;
var bar_1 = require(&#34;@src/bar&#34;);
exports.foo = function () {
    console.log(bar_1.bar());
};</code></pre><p>ë¹„ìŠ·í•œ ë¬¸ì œëŠ” ë‹¤ë“¤ í•œë²ˆì”© ê²ªì—ˆì„ê²ƒì´ë‹¤.
C, C++ ì“°ë‹¤ë³´ë©´ ì»´íŒŒì¼ì€ ì„±ê³µí–ˆì§€ë§Œ ë§í‚¹(linking)ì´ ë˜ì§€ ì•ŠëŠ” ë¬¸ì œë¥¼ ë‹¹í–ˆì„ ê²ƒì´ë‹¤.
ë¹„ì£¼ì–¼ C++ ì“°ë‹¤ë³´ë©´ ë³´ëŠ” LNK???? ì—ëŸ¬.</p><p>Cë¥¼ ì»´íŒŒì¼í•˜ë©´ object íŒŒì¼ì´ ìƒì„±ëœë‹¤.
ì—¬ëŸ¬ íŒŒì¼ë¡œ êµ¬ì„±ëœ C í”„ë¡œì íŠ¸ë©´ object íŒŒì¼ë„ ì—¬ëŸ¬ê°œê°€ ìƒì„±ëœë‹¤.
ì´ê²ƒì„ í•˜ë‚˜ë¡œ í•©ì³ì•¼ ì‹¤í–‰ ê°€ëŠ¥í•œ íŒŒì¼ì´ ë§Œë“¤ì–´ì§„ë‹¤.</p><p>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì†ŒìŠ¤ íŒŒì¼ë“¤ì´ ì»´íŒŒì¼ë˜ì–´ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì´ ìƒì„±ë˜ì—ˆë‹¤.
í•˜ì§€ë§Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ê°„ì—ëŠ” ì—°ê²°ì´ ì—†ë‹¤.
<code>@src</code>ë¥¼ nodeë„ ì•Œì•„ë¨¹ì„ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ë°”ê¿”ì•¼í•œë‹¤.</p><h2 id=webpack>webpack</h2><p>webpackì€ ëª¨ë“ˆ ë²ˆë“¤ëŸ¬ì´ë‹¤.
webpackì„ ì“°ë©´ ë¶„ë¦¬ë˜ì–´ìˆëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì†ŒìŠ¤ íŒŒì¼ì„ í•˜ë‚˜ë¡œ íŒŒì¼ë¡œ ë¬¶ì–´ì¤„ ìˆ˜ ìˆë‹¤.</p><p><p class=markdown-image><img src=toptal-blog-image-1476174229140-3890202f75d94c0692549af41f9d652a.png alt=webpack></p></p><p>ìƒê°í•´ë³´ë©´ linkerì™€ í•˜ëŠ” ì§“ì´ ìœ ì‚¬í•˜ë‹¤.</p><p><p class=markdown-image><img src=COMPILE.gif alt=linker></p></p><p>linking í•˜ë“¯ì´ webpackì„ ì´ìš©í•´ì„œ ë¶„ë¦¬ëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ í•©ì¹ ë•Œ <code>@src</code>ë¥¼ ë©€ì©¡í•œ ì´ë¦„ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆìœ¼ë©´ í”„ë¡œê·¸ë¨ì´ ëŒì•„ê°ˆê±°ë‹¤.
webpackì´ <code>@src</code>ë¥¼ ì•Œì•„ë“£ê²Œ ë§Œë“œëŠ” ë°©ë²•ì€ ë‚¨ë“¤ì´ ê°„ ê¸¸ì„ ì°¾ìœ¼ë‹ˆ ë‚˜ì˜¤ë”ë¼.
<a href=https://robferguson.org/blog/2017/11/22/working-with-typescript-webpack-and-ionic-3/>Working with TypeScript, webpack and Ionic 3</a> ë¥¼ ì°¸ê³ í–ˆë‹¤.
webpack ì„¤ì •íŒŒì¼ì— alias ë¥¼ ì„¤ì •í•˜ë©´ ëœë‹¤ë”ë¼.
ë‚˜ëŠ” ì ˆëŒ€ê²½ë¡œë¼ê³  ë¶ˆë €ëŠ”ë° webpackì—ì„œëŠ” ì´ê²ƒì„ aliasë¼ê³  ë¶€ë¥´ë‚˜ë³´ë‹¤.</p><p>webpack.config.js</p><pre><code class="language-javascript line-numbers">...
module.exports = {
  ....
  resolve: {
    extensions: [
      &#39;.ts&#39;,
      &#39;.tsx&#39;,
      &#39;.js&#39;,
      &#39;.json&#39;,
    ],
    // -----
    &#39;alias&#39;: {
      &#39;@src&#39;: path.resolve(__dirname, &#39;src&#39;),
    },
    // ----
  },
};</code></pre><p>ì´ì œ webpackìœ¼ë¡œ ë½‘ì€ íŒŒì¼ì€ ì˜ ì‹¤í–‰ëœë‹¤.</p><h2 id=ts-node>ts-node</h2><p><a href=https://github.com/TypeStrong/ts-node>ts-node</a>ëŠ” ë‚´ê°€ ì¢‹ì•„í•˜ëŠ” ë„êµ¬ë‹¤.
í”„ë¡œì íŠ¸ì˜ ì„¤ëª…ì„ ë³´ë©´ TypeScript execution and REPL for node.js ë¼ê³  ë˜ì–´ìˆë‹¤.
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” nodeì—ì„œ ë°”ë¡œ ëŒë¦´ ìˆ˜ ì—†ë‹¤.
tscë¡œ ì»´íŒŒì¼í•œí›„ ìƒì„±ëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ nodeë¡œ ëŒë ¤ì•¼í•œë‹¤.
í•˜ì§€ë§Œ ì´ì§“ì„ í•˜ëŠ”ê±´ ë„ˆë¬´ ê·€ì°®ì–ì•„?
ts-nodeë¥¼ ì„¤ì¹˜í•˜ë©´ <code>node xxx.js</code> ì‹¤í–‰í•˜ëŠ” ëŠë‚Œìœ¼ë¡œ <code>ts-node xxx.ts</code>ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.</p><p>ì ˆëŒ€ê²½ë¡œê°€ ë“¤ì–´ê°„ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ts-nodeë¡œ ì‹¤í–‰í•˜ë©´ ì•ˆëŒì•„ê°„ë‹¤.
ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ íŠ€ì–´ë‚˜ì˜¨ë‹¤.</p><pre class=markdown-textblock><code>$ npx ts-node src/index.ts
Cannot find module '@src/bar'</code></pre><p>ts-nodeê°€ <code>@src</code>ë¥¼ ëª» ì•Œì•„ë¨¹ëŠ”ë‹¤.
tsconfig.json ì— <code>@src</code>ê°€ ìˆì§€ë§Œ ts-nodeê°€ tsconfig.jsonì˜ ë‚´ìš©ì„ ì „ë¶€ ì“°ì§€ ì•Šë‚˜ë³´ë‹¤.
ts-nodeì˜ ë¬¸ì„œë¥¼ ë’¤ì ¸ë³´ë©´ tsconfig-pathsë¥¼ ì„¤ì¹˜í•´ì„œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤ê³ í•œë‹¤.
ì´ì œ ì ˆëŒ€ê²½ë¡œ ë“¤ì–´ê°„ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë„ ts-nodeë¡œ ëŒë¦´ ìˆ˜ ìˆë‹¤.</p><pre class=markdown-textblock><code>$ npx ts-node -r tsconfig-paths/register --files src/index.ts
bar</code></pre><p>ts-nodeë¥¼ ì“¸ë•Œë§ˆë‹¤ tsconfig-paths ê´€ë ¨ ì„¤ì •ì„ ì¹˜ëŠ”ê²ƒì€ ë§¤ìš° ê·€ì°®ë‹¤.
package.jsonë¥¼ ê³ ì¹˜ë©´ ë…¸ê°€ë‹¤ê°€ ì¡°ê¸ˆ ì¤„ì–´ë“ ë‹¤.</p><p>package.json</p><pre><code class="language-json line-numbers">{
  ...
  &#34;scripts&#34;: {
    &#34;ts-node&#34;: &#34;ts-node -r tsconfig-paths/register --files&#34;
  },
  ...
}</code></pre><pre class=markdown-textblock><code>$ npm run ts-node src/index.ts

> use-relative-path-in-typescript@1.0.0 ts-node ...
> ts-node -r tsconfig-paths/register --files ".\src\index.ts"

bar</code></pre><h2 id=jest>jest</h2><p>ë‚˜ëŠ” jestë¥¼ ì´ìš©í•´ì„œ ìœ ë‹›í…ŒìŠ¤íŠ¸ë¥¼ ëŒë¦°ë‹¤.
jestëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë§Œ ì§€ì›í•œë‹¤.
í•˜ì§€ë§Œ ts-jestë¥¼ ì„¤ì¹˜í•˜ë©´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë„ ì§€ì›í•œë‹¤.
ts-jestë¥¼ ì„¤ì¹˜í•˜ê³  jestëŒë¦´ë•Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì€ ts-jestë¥¼ ê±°ì¹˜ë„ë¡ ì„¤ì •í•˜ë©´ ëœë‹¤.</p><p>package.json</p><pre><code class="language-json line-numbers">{
  ...
  &#34;jest&#34;: {
    ...
    &#34;transform&#34;: {
      &#34;^.&#43;\\.tsx?$&#34;: &#34;ts-jest&#34;
    },
    &#34;testRegex&#34;: &#34;(/__tests__/.*|(\\.|/)(test|spec))\\.(tsx?)$&#34;,
    ...
  }
}</code></pre><p>ì˜ ì„¤ì •í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ìœ ë‹›í…ŒìŠ¤íŠ¸ë¥¼ ëŒë¦´ ìˆ˜ ìˆë‹¤.</p><pre><code class="language-typescript line-numbers">import { bar } from &#39;../../src/bar&#39;;

test(&#39;bar&#39;, () =&gt; {
  expect(bar()).toEqual(&#39;bar&#39;);
})</code></pre><p>ê·¸ë ‡ë‹¤ë©´ ì ˆëŒ€ê²½ë¡œë¥¼ ì‚¬ìš©í•œ ìœ ë‹›í…ŒìŠ¤íŠ¸ë„ ëŒì•„ê°ˆê¹Œ?</p><pre><code class="language-typescript line-numbers">import { bar } from &#39;@src/bar&#39;;

test(&#39;bar&#39;, () =&gt; {
  expect(bar()).toEqual(&#39;bar&#39;);
})</code></pre><pre class=markdown-textblock><code> FAIL  test/bar/index.test.ts
  â— Test suite failed to run

    Cannot find module '@src/bar' from 'index.test.ts'

    > 1 | import { bar } from '@src/bar';
        | ^
      2 |
      3 | test('bar', () => {
      4 |   expect(bar()).toEqual('bar');

      at Resolver.resolveModule (node_modules/jest-resolve/build/index.js:221:17)
      at Object.<anonymous> (test/bar/index.test.ts:1:1)</code></pre><p><code>@src</code>ê°€ ë“¤ì–´ê°„ ìœ ë‹›í…ŒìŠ¤íŠ¸ëŠ” ëŒë¦´ ìˆ˜ ì—†ë‹¤.
jestê°€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìœ„í•œ ë¬¼ê±´ì´ ì•„ë‹ˆë‹¤ë³´ë‹ˆ tsconfig.jsonì„ ëª»ì•Œì•„ë¨¹ëŠ”ë‹¤.
webpackê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ë³„ë„ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.
webpackë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë‚¨ë“¤ì´ ì‚½ì§ˆí•œê±° ë² ë¼ì.
ts-jestì˜ <a href=https://kulshekhar.github.io/ts-jest/user/config/>Configuration</a>ì„ ì°¸ê³ í•˜ë©´ ëœë‹¤.
<code>moduleNameMapper</code>ë¥¼ ì„¤ì •í•˜ë©´ ëœë‹¤.</p><pre><code class="language-json line-numbers">{
  ...
  &#34;jest&#34;: {
    ...
    &#34;moduleNameMapper&#34;: {
      &#34;@src/(.*)&#34;: &#34;&lt;rootDir&gt;/src/$1&#34;
    }
  }
}</code></pre></div><div class=tags><a href=https://if1live.github.io/tags/typescript/>typescript</a>
<a href=https://if1live.github.io/tags/ts-node/>ts-node</a>
<a href=https://if1live.github.io/tags/jest/>jest</a>
<a href=https://if1live.github.io/tags/webpack/>webpack</a>
<a href=https://if1live.github.io/tags/alias/>alias</a></div><hr><div class=pagination><div class="left pagination-item"><a href=https://if1live.github.io/posts/http-request-with-body-and-java-httpurlconnection/>ğŸ¡° HTTP ìš”ì²­ì— bodyë¥¼ ë¶™ì—¬ì„œ ë³´ë‚´ë©´ ì–´ë–¤ ì¼ì´ ë²Œì–´ì§ˆê¹Œ? part 2</a></div><div class="right pagination-item"><a href=https://if1live.github.io/posts/generous-code-breaks-easily/>ê´€ëŒ€í•œ ì½”ë“œëŠ” ì‰½ê²Œ ë§ê°€ì§„ë‹¤ ğŸ¡²</a></div></div><div class=see-also><h2>See Also</h2><ul><li><a href=/posts/yup-declarative-input-validation/>yupë¡œ ì…ë ¥ ê²€ì¦ì„ ëœ ê·€ì°®ê²Œ ì²˜ë¦¬í•˜ì</a></li><li><a href=/posts/-3-mod-3-is-not-equal-to-3-mod-3-in-javascript/>ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ expect(-3 % 3).toEqual(3 % 3)ê°€ ì‹¤íŒ¨í•˜ëŠ” ì´ìœ </a></li><li><a href=/posts/prevent-bug-by-if-statement-with-promise/>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ifë¬¸ ì•ˆì— promiseê°€ ë“¤ì–´ê°€ëŠ” ë¬¸ì œ í”¼í•˜ê¸°</a></li></ul></div><div id=comment><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//libsora.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></section></div><footer class=sora-footer><p><a href=//gohugo.io/ title=Hugo>Hugo</a> |
<a href=//twitter.com/if1live/ title=@if1live>@if1live</a></p></footer><script src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js integrity="sha512-BttltKXFyWnGZQcRWj6osIg7lbizJchuAMotOkdLxHxwt/Hyo+cl47bZU0QADg+Qt5DJwni3SbYGXeGMB5cBcw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-clike.min.js integrity="sha512-/Rynaa6ehLZJO9fdk+EUsgiOdJqFSFUB4Qgy+gP4vU4U1DrmPJWypfXe1CgyaV7rRdZjGxdpLe9djxhx1ZHvqQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js integrity="sha512-8VrjxGFLIkS0mgEmO3p46A5OkqATHhrNVwyv2V7yUeZrk1jmSDuI3SOEpC9XHEHUWEOsfzzcJeBlUkee9lKGrw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js integrity="sha512-namzGTZvHaug0jeipHRN2pMepMiJj+EbrloktVFlMYGnA0EwZhbdLeENjBYLCgoghVbZGinIz/FFYHmB0o3wLw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js integrity="sha512-uOw7XYETzS/DPmmirpP5UCMihSDNMeyTS965J0/456OSPfxn9xEtHHjj5Q/5WefVdqyMfN/afmQnNpZd/tpkcA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js integrity="sha512-AKaNmg8COK0zEbjTdMHJAPJ0z6VeNqvRvH4/d5M4sHJbQQUToMBtodq4HaV4fa+WV2UTfoperElm66c9/8cKmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js integrity="sha512-jwrwRWZWW9J6bjmBOJxPcbRvEBSQeY4Ad0NEXSfP0vwYi/Yu9x5VhDBl3wz6Pnxs8Rx/t1P8r9/OHCRciHcT7Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js integrity="sha512-xKcnbsdT0KMoA4yrozkqZM1XJVTrPsjdQwvigxlAlxEDu8YDvC/jl+LfVqn0fY3Vs6m2y4a89JCHEIA/Z9zpmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-csharp.min.js integrity="sha512-pmt3kb6dRndjFXFFwCa3rSzuUQ0GjeCfC5QULWde+8ZBIsUzuP1heOIOSAMfAyXHSufrrTp8h7UHw85K4IJ2/g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js integrity="sha512-whYhDwtTmlC/NpZlCr6PSsAaLOrfjVg/iXAnC4H/dtiHawpShhT2SlIMbpIhT/IL/NrpdMm+Hq2C13+VKpHTYw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-ruby.min.js integrity="sha512-/Dti0iV9cxgJe8r0U/89YJIv9ZBQu1ExEWffVyBj4juMQ4GNglQ3TQ0Up4gcbiHvg0g87arcUFbKBtw2PxH1Dw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js integrity="sha512-w200Nz1i9KgDNi+IpPMgpZBVRIvfVK/V5vskyHjkz7XJkVnRJcb1uNmpiHhDv0/Ln+GG2VqScKKz/1izBfg64Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-less.min.js integrity="sha512-lL5HvfIycntK04Iiai/VTsyuj7mvDkhz9k+cA8fqXr932s4jLJ1YwplIs6Dhpw0pzVwAe1jGe8sGwbyuHG44QQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-scss.min.js integrity="sha512-aczOaJ+mB9uGT6dMJbDaUsS2PWG+XII+1ypFQ0L22Z132V6kMM6m70pQssXsPAFmLI5xkgx/hknBuUuJIJKZfA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js integrity="sha512-uMdVuOpm+9lNPCT7mV/YaMb9YQ/R4+eeON7aEMj6Ig/f4BoU+Q5k6iaZkDsX7LH9cjTHZt0CuKxbzd0/fndrWA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js integrity="sha512-QXFMVAusM85vUYDaNgcYeU3rzSlc+bTV4JvkfJhjxSHlQEo+ig53BtnGkvFTiNJh8D+wv6uWAQ2vJaVmxe8d3w==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js integrity="sha512-6O/PZimM3TD1NN3yrazePA4AbZrPcwt1QCGJrVY7WoHDJROZFc9TlBvIKMe+QfqgcslW4lQeBzNJEJvIMC8WhA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-batch.min.js integrity="sha512-tPgIjUKiv2HcUAIWXA3v6G4cNuWXkoMsF+ibxfHLnp+/s1C3Bw5/qp78+JjhrfoyWIiHXHx0LtH4M/LAwyQqWg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lisp.min.js integrity="sha512-W461RnQzrhSCQQMfEGFKOHbK2DuJTVxrXs2PzctPaxV3A+qPB/TcnMgucSsBNkyccNK8VoENBsAnbf/SuBE71g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin=anonymous></script>
<script>renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]});for(var inlineMathArray=document.querySelectorAll("script[type='math/tex']"),inlineMath,tex,replaced,displayMathArray,displayMath,i=0;i<inlineMathArray.length;i++)inlineMath=inlineMathArray[i],tex=inlineMath.innerText||inlineMath.textContent,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex,{displayMode:!1}),inlineMath.parentNode.replaceChild(replaced,inlineMath);displayMathArray=document.querySelectorAll("script[type='math/tex; mode=display']");for(i=0;i<displayMathArray.length;i++)displayMath=displayMathArray[i],tex=displayMath.innerHTML,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex.replace(/%.*/g,""),{displayMode:!0}),displayMath.parentNode.replaceChild(replaced,displayMath)</script></body></html>