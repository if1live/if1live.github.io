<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.116.1"><title>Signals - if1live space</title><meta name=author content="if1live"><meta name=title content="Signals"><meta name=description content="ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë° ì‹œí—˜ ê³µë¶€í•˜ë©´ì„œ ì •ë¦¬í•œ ë‚´ìš©ì´ë‹¤. ë‚´ìš© ê°±ì‹ ì€ ì•ìœ¼ë¡œ ì—†ë‹¤. Signals Signals Signal í”„ë¡œì„¸ìŠ¤ì— ì´ë²¤íŠ¸ë¥¼ ì•Œë¦´ë•Œ ë³´ë‚´ëŠ” ê²ƒ í”„ë¡œì„¸ìŠ¤ë‚˜ í”„ë¡œì„¸ìŠ¤ ê·¸ë£¹ì— ê°„ë‹¨í•œ ë©”ì„¸"><meta name=keywords content="linux,system programming,signal"><meta name=naver-site-verification content="2ddc1a56777489f4a64a4f6a59822f8b1c1ea502"><meta name=google-site-verification content="VsvNNnJZUV-iLEYKNju16p-HtDqZeqL15H-VVy-HwpA"><meta name=gc:client-id content="785d47c81cbc2fd42b65"><meta name=gc:client-secret content="5e5d558f0b16fae154aa47fc9d94f7c09e540ec7"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><script type=text/javascript>var host="if1live.github.io";host==window.location.host&&window.location.protocol!="https:"?window.location.protocol="https":console.log("skip https redirect")</script><link rel=stylesheet href=/css/style.ad6245cc6a90c30a30dba42b8bbe9be63bed9ea169e339d8ecfc6b9afc6eb8382bbd422b2d31dc71c3355c79f057ddcaa7e1ca96b5eb7f5f16a28a34e74051db.css integrity="sha512-rWJFzGqQwwow26Qri76b5jvtnqFp4znY7PxrmvxuuDgrvUIrLTHcccM1XHnwV93Kp+HKlrXrf18Wooo050BR2w=="><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin=anonymous><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-3043297488880636",enable_page_level_ads:!0})</script><meta property="og:title" content="Signals"><meta property="og:description" content="ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë° ì‹œí—˜ ê³µë¶€í•˜ë©´ì„œ ì •ë¦¬í•œ ë‚´ìš©ì´ë‹¤. ë‚´ìš© ê°±ì‹ ì€ ì•ìœ¼ë¡œ ì—†ë‹¤. Signals Signals Signal í”„ë¡œì„¸ìŠ¤ì— ì´ë²¤íŠ¸ë¥¼ ì•Œë¦´ë•Œ ë³´ë‚´ëŠ” ê²ƒ í”„ë¡œì„¸ìŠ¤ë‚˜ í”„ë¡œì„¸ìŠ¤ ê·¸ë£¹ì— ê°„ë‹¨í•œ ë©”ì„¸"><meta property="og:type" content="article"><meta property="og:url" content="https://if1live.github.io/posts/system-prog-signals/"><meta property="og:image" content="https://www.gravatar.com/avatar/fb9672e7e0d256f39369595381d1ea07?size=160"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-11-23T00:00:00+00:00"><meta property="article:modified_time" content="2014-11-23T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.gravatar.com/avatar/fb9672e7e0d256f39369595381d1ea07?size=160"><meta name=twitter:title content="Signals"><meta name=twitter:description content="ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë° ì‹œí—˜ ê³µë¶€í•˜ë©´ì„œ ì •ë¦¬í•œ ë‚´ìš©ì´ë‹¤. ë‚´ìš© ê°±ì‹ ì€ ì•ìœ¼ë¡œ ì—†ë‹¤. Signals Signals Signal í”„ë¡œì„¸ìŠ¤ì— ì´ë²¤íŠ¸ë¥¼ ì•Œë¦´ë•Œ ë³´ë‚´ëŠ” ê²ƒ í”„ë¡œì„¸ìŠ¤ë‚˜ í”„ë¡œì„¸ìŠ¤ ê·¸ë£¹ì— ê°„ë‹¨í•œ ë©”ì„¸"><meta name=twitter:site content="@if1live"><script async src="https://www.googletagmanager.com/gtag/js?id=G-SKE54STL16"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SKE54STL16",{anonymize_ip:!1})}</script></head><body><nav class=sora-navigation><a href=/ title=home><h1>if1live space</h1></a><ul class=menu-button-list><li><a href=/posts title=archive><i class="fa-solid fa-box-archive"></i>
<span hidden>archive</span></a></li><li><a href=/tags title=tags><i class="fa-solid fa-tags"></i>
<span hidden>tags</span></a></li><li><a href=//github.com/if1live title=GitHub><i class="fa-brands fa-github"></i>
<span hidden>GitHub</span></a></li><li><a href=/about title=about><i class="fa-solid fa-info"></i>
<span hidden>about</span></a></li><li><a href=https://if1live.github.io/index.xml title=RSS><i class="fa-solid fa-rss"></i>
<span hidden>RSS</span></a></li></ul></nav><div class=main><section id=single><h1 class=title><span>Signals</span><br><small>2014ë…„ 2í•™ê¸° ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë° ì‹œí—˜ ê³µë¶€</small></h1><div class=tip><time datetime="2014-11-23 00:00:00 +0000 UTC">2014. 11. 23</time></div><div class=content><p>ì‹œìŠ¤í…œ í”„ë¡œê·¸ë˜ë° ì‹œí—˜ ê³µë¶€í•˜ë©´ì„œ ì •ë¦¬í•œ ë‚´ìš©ì´ë‹¤. ë‚´ìš© ê°±ì‹ ì€ ì•ìœ¼ë¡œ ì—†ë‹¤.</p><h1 id=signals>Signals</h1><h2 id=signals-1>Signals</h2><h3 id=signal>Signal</h3><ul><li>í”„ë¡œì„¸ìŠ¤ì— ì´ë²¤íŠ¸ë¥¼ ì•Œë¦´ë•Œ ë³´ë‚´ëŠ” ê²ƒ</li><li>í”„ë¡œì„¸ìŠ¤ë‚˜ í”„ë¡œì„¸ìŠ¤ ê·¸ë£¹ì— ê°„ë‹¨í•œ ë©”ì„¸ì§€ë¥¼ ë³´ë‚¼ë•Œ ì‚¬ìš©í•˜ëŠ” IPC<ul><li>number : ì‹œê·¸ë„ ë²ˆí˜¸</li><li><strong>Remember, No payload.</strong> ì¸ìëŠ” ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.</li><li>ê°„ë‹¨í•˜ê³  íš¨ìœ¨ì ì´ë¼ì„œ ë„ë¦¬ ì“°ì„</li></ul></li><li>ì¼ë°˜ì ìœ¼ë¡œ í”„ë¡œì„¸ì„œëŠ” ì‹œê·¸ë„ì— ë°˜ì‘í• ë•Œ user-space í•¨ìˆ˜(signal handler)ë¥¼ í˜¸ì¶œ</li><li>ì¸í„°ëŸ½íŠ¸ &lt;=> ì»¤ë„ &mldr; ì‹œìŠ¤ë„ &lt;=> í”„ë¡œì„¸ìŠ¤</li></ul><h3 id=ëª©ì >ëª©ì </h3><ul><li>íŠ¹ì •í•œ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆë‹¤ëŠ” ê²ƒì„ í”„ë¡œì„¸ìŠ¤ì— ì•Œë ¤ì¤€ë‹¤.</li><li>í”„ë¡œì„¸ìŠ¤ê°€ ì‹œê·¸ë„ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•˜ë„ë¡ ê°•ìš”í• ë•Œ ì‚¬ìš©.</li></ul><h3 id=ì‹œê·¸ë„ì˜-ì¢…ë¥˜>ì‹œê·¸ë„ì˜ ì¢…ë¥˜</h3><ul><li>signal number -> SIGxxx macro</li><li>&ldquo;real-time&rdquo; signalì€ POSIX í‘œì¤€ì— ì •ì˜</li></ul><h3 id=í”„ë¡œë ˆìŠ¤ê°€-ì‹œê·¸ë„ì„-ì²˜ë¦¬í•˜ëŠ”-ë°©ë²•>í”„ë¡œë ˆìŠ¤ê°€ ì‹œê·¸ë„ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•</h3><ul><li>ì»¤ë„ ê¸°ë³¸ì„ ì‚¬ìš©. (ì‹œê·¸ë„ë³„ë¡œ ê¸°ë³¸ í–‰ë™ì´ ì •ì˜ë˜ì–´ ìˆë‹¤. Terminate, Dump, &mldr;)</li><li>ì‹œê·¸ë„ ë¬´ì‹œ</li><li>ì‹œê·¸ë„ Block (ë‚˜ì¤‘ì— unblockí• ë•Œê¹Œì§€ ë¯¸ë£¬ë‹¤)</li><li>ë³„ë„ì˜ ì‹œê·¸ë„ í•¸ë“¤ëŸ¬</li></ul><h2 id=ì‹œê·¸ë„ì˜-íŠ¹ì§•>ì‹œê·¸ë„ì˜ íŠ¹ì§•</h2><ul><li>ì‹œê·¸ë„ì€ í”„ë¡œì„¸ìŠ¤ì— ì–¸ì œë“ ì§€ ë³´ë‚¼ ìˆ˜ ìˆë‹¤</li><li>non-running ìƒíƒœì˜ í”„ë¡œì„¸ìŠ¤ì—ë„ ë³´ë‚¼ ìˆ˜ ìˆë‹¤.<ul><li>blockedë„ ì‹œê·¸ë„ì„ ë°›ì„ ìˆ˜ ìˆë‹¤</li><li>í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ ìƒíƒœë¡œ ëŒì•„ì˜¬ë•Œê¹Œì§€ ì»¤ë„ì´ ì €ì¥í•´ë‘”ë‹¤.</li><li>Running ìƒíƒœë¡œ ëŒì•„ì˜¤ë©´ ë°›ì€ ì‹œê·¸ë„ ì²˜ë¦¬</li></ul></li><li>í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤(current process)ì—ì„œ ì‹œê·¸ë„ ìƒì„± ê°€ëŠ¥</li><li>íƒ€ì…ë³„ ì‹œê·¸ë„ì€ 1ê°œì”©ë§Œ ì €ì¥ ê°€ëŠ¥<ul><li>bitmapì„ ì´ìš©í•´ì„œ ì‹œê·¸ë„ ì €ì¥í•˜ê¸°ë•Œë¬¸</li></ul></li><li>ì‹œê·¸ë„ì€ í”„ë¡œì„¸ìŠ¤ì— ì˜í•´ì„œ ì„ íƒì ìœ¼ë¡œ blocked ê°€ëŠ¥<ul><li>ë¸”ëŸ­í•œê±° ì²˜ë¦¬í•˜ê¸°ì „ê¹Œì§€ í”„ë¡œì„¸ìŠ¤ëŠ” í•´ë‹¹ ì‹œê·¸ë„ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤</li></ul></li><li>ì‹œê·¸ë„ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ í•¨ìˆ˜ê°€ ëë‚ ë•Œê¹Œì§€ ì‹œê·¸ë„ ë¸”ëŸ­<ul><li>ì‹œê·¸ë„ í•¸ë“¤ëŸ¬ëŠ” ë‹¤ë¥¸ ì‹œê·¸ë„ì— ì˜í•´ interrupt ë˜ì§€ ì•ŠëŠ”ë‹¤.</li></ul></li></ul><h2 id=signal-handling>Signal Handling</h2><ul><li>ì‹œê·¸ë„ í•¸ë“¤ë§ì— í•„ìš”í•œ ìë£Œêµ¬ì¡°<ul><li>ì‹œê·¸ë„ í•¸ë“¤ëŸ¬ ë°°ì—´</li><li>ëŒ€ê¸°ì¤‘ì¸(pending) ì‹œê·¸ë„ ëª©ë¡</li><li>ë¸”ëŸ­ëœ(blocked) ì‹œê·¸ë„ ë§ˆìŠ¤í¬ (bitmask)</li></ul></li><li>ëŒ€ê¸°ì¤‘ì¸ ì‹œê·¸ë„ (pending signal)<ul><li>ë°›ì•˜ì§€ë§Œ ì•„ì§ ì²˜ë¦¬í• ìˆ˜ ì—†ëŠ” ì‹œê·¸ë„ì€ pending ëœë‹¤</li><li>ì‹œê·¸ë„ì´ ì–¸ì œ ì²˜ë¦¬ë˜ëŠ”ê°€?<ul><li>ì¸í„°ëŸ½íŠ¸ë‚˜ ì˜ˆì™¸ì—ì„œ ëŒì•„ì˜¬ë•Œ (ì‹œìŠ¤í…œì½œ í¬í•¨)</li></ul></li><li>ì‹œê·¸ë„ì€ íƒ€ì…ë³„ë¡œ 1ê°œë§Œ ëŒ€ê¸° ëª©ë¡ì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤.</li><li>ì‹œê·¸ë„ì´ ì–¸ì œ ì²˜ë¦¬ë ì§€ëŠ” ë³´ì¥ ëª»í•œë‹¤</li></ul></li><li>ì»¤ë„ì˜ ì‹œê·¸ë„ êµ¬í˜„<ol><li>ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì–´ë–¤ ì‹œê·¸ë„ì„ ë¸”ëŸ­í–ˆëŠ”ì§€ ê¸°ì–µ</li><li>ì»¤ë„ëª¨ë“œì—ì„œ ìœ ì €ëª¨ë“œë¡œ ë„˜ì–´ê°ˆë•Œ ë„ì°©í•œ ì‹œê·¸ë„ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê¸°<ul><li>timer interruptë¥¼ ì´ìš©í•´ì„œ ëŒ€ëµ 1msë§ˆë‹¤ ê³„ì† í™•ì¸</li></ul></li><li>ì‹œê·¸ë„ì„ ë¬´ì‹œí•´ë„ ë˜ëŠ”ì§€ ê²°ì •</li><li>ì‹œê·¸ë„ ì²˜ë¦¬<ul><li>í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ ë„ì¤‘ì— ì‹œê·¸ë„ í•¸ë“¤ëŸ¬ë¡œ ì „í™˜</li><li>ì´ì „ ì‹¤í–‰ ìƒíƒœëŠ” ì €ì¥í•´ë†¨ë‹¤ê°€ ì‹œê·¸ë„ í•¸ë“¤ëŸ¬ ì²˜ë¦¬ í›„ ë³µêµ¬</li></ul></li></ol></li></ul><h2 id=date-structures-for-signal-handling>Date Structures for Signal Handling</h2><p>task_structì—ëŠ” lightweight processìš© ì‹œê·¸ë„ ìë£Œêµ¬ì¡°ì™€ thread groupìš© ì‹œê·¸ë„ ìë£Œêµ¬ì¡°ê°€ ê°™ì´ ë“¤ì–´ìˆë‹¤. ë‚´ë¶€ êµ¬ì¡°ëŠ” ì„œë¡œ ë¹„ìŠ·í•˜ë‹¤. thread-groupìš© ì‹œê·¸ë„ì€ shared signalì´ë¼ê³ ë„ ë¶€ë¥¸ë‹¤</p><ul><li>struct task_struct<ul><li>struct sigpending pending : í”„ë¡œì„¸ìŠ¤ìš© pending ì‹œê·¸ë„ ëª©ë¡</li><li>struct signal_struct *signal : thread-groupìš© ì‹œê·¸ë„ ë””ìŠ¤í¬ë¦½í„°</li><li>sturct sighand_struct *sighand : ì‹œê·¸ë„ í•¸ë“¤ëŸ¬</li><li>sigset_t blocked : blocked signal bitmassk</li></ul></li><li>struct sighand_struct<ul><li>struct k_sigaction action[64]</li></ul></li><li>signal handler : task_struct<ul><li><code>task->sighand->action[x].sa_handler</code></li></ul></li><li>struct sigpending:<ul><li>struct list_head list : linked list. sigqueueë¡œ ì—°ê²°</li><li>sigset_t signal : bitmask</li></ul></li><li>struct sigqueue<ul><li>struct sigqueue *next : linked list</li><li>siginfo_t info : pending ì‹œê·¸ë„ì˜ ì •ë³´</li></ul></li><li>struct siginfo_t<ul><li>si_signo : signal number</li><li>si_code : ëˆ„ê°€ ì‹œê·¸ë„ì„ ë°œìƒì‹œì¼°ëŠ”ê°€ (ìœ ì €? ì»¤ë„? timer?)</li></ul></li></ul><h2 id=signal-transmission>Signal Transmission</h2><ol><li>ì‹œê·¸ë„ ìƒì„± (Signal Generation)<ul><li>ì»¤ë„ì€ ëª©ì  í”„ë¡œì„¸ìŠ¤ì˜ ë””ìŠ¤í¬ë¦½í„°ë¥¼ ê°±ì‹ í•´ì„œ ìƒˆë¡œìš´ ì‹œê·¸ë„ì´ ì™”ë‹¤ëŠ” ê²ƒì„ ì €ì¥í•œë‹¤</li></ul></li><li>ì‹œê·¸ë„ ë³´ë‚´ê¸° (Signal Action)<ul><li>ì»¤ë„ì€ ëª©ì  í”„ë¡œì„¸ìŠ¤ê°€ ì‹œê·¸ë„ì— ë°˜ì‘í•˜ë„ë¡ ê°•ìš”í•œë‹¤. 2ê°€ì§€ ì‘ì—… ì¤‘ í•˜ë‚˜, ë˜ëŠ” ë‘˜ë‹¤ ìˆ˜í–‰.</li><li>ëª©ì  í”„ë¡œì„¸ìŠ¤ì˜ ì‹¤í–‰ ìƒíƒœë¥¼ ë°”ê¾¼ë‹¤. (ì˜ˆë¥¼ ë“¤ë©´ í”„ë¡œì„¸ìŠ¤ ì£½ì´ê¸°)</li><li>ì‹œê·¸ë„ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•œë‹¤.</li></ul></li></ol><h2 id=signal-generation>Signal Generation</h2><ul><li>ì‹œê·¸ë„ ë³´ë‚´ëŠ” í”„ë¡œì„¸ìŠ¤ ë””ìŠ¤í¬ë¦½í„° ê°±ì‹ </li><li>ì‹œê·¸ë„ì˜ ì¢…ë¥˜ì™€ í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœì— ë”°ë¼ì„œ ì‹œê·¸ë„ í•¨ìˆ˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ê¹¨ìš°ê³  ì‹œê·¸ë„ ì²˜ë¦¬ë¥¼ ê°•ìš”í•œë‹¤.</li><li>ëŒ€ìƒì— ë”°ë¼ 2ì¢…ë¥˜ë¡œ ë¶„ë¥˜<ul><li>í”„ë¡œì„¸ìŠ¤ë¡œ ì‹œìŠ¤ë„ ë³´ë‚´ëŠ” í•¨ìˆ˜</li><li>ì“°ë ˆë“œ ê·¸ë£¹ìœ¼ë¡œ ì‹œê·¸ë„ ë³´ë‚´ëŠ” í•¨ìˆ˜</li></ul></li><li><code>specific_send_sig_info()</code><ul><li>ì‹œê·¸ë„ ì•¡ì…˜ì„ ë¬´ì‹œí• ìˆ˜ ìˆëŠ”ì§€ í™•ì¸</li><li>ì‹œê·¸ë„ì„ í”„ë¡œì„¸ìŠ¤ì— ë³´ë‚´ê¸°. <code>send_signal()</code> í˜¸ì¶œ</li><li>ì‹œê·¸ë„ì´ ë¸”ëŸ­ë˜ì§€ ì•Šì•˜ìœ¼ë©´ <code>signal_wake_up()</code> í˜¸ì¶œ</li><li>SIGKILL, SIGSTOP, ë“±ë“±ì€ íŠ¹ë³„í•œ ì²˜ë¦¬</li></ul></li><li><code>send_signal()</code><ul><li>ì‹œê·¸ë„ì„ ëª©ì  í”„ë¡œì„¸ìŠ¤ì˜ pending listì— ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜</li><li>ìƒˆë¡œìš´ list ìš”ì†Œìš© ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹</li><li>ì‹œê·¸ë„ ì •ë³´ë¥¼ ì±„ìš°ê³  ëª©ë¡ì— ì¶”ê°€</li><li>pending ì‹œê·¸ë„ ëª©ë¡ ê°±ì‹ </li></ul></li><li><code>signal_wake_up()</code><ul><li>í”„ë¡œì„¸ìŠ¤ì— ìƒˆë¡œìš´ pending singalì´ ë“±ë¡ë˜ì—ˆë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì£¼ëŠ” í•¨ìˆ˜</li><li><code>TIF_SIGPENDING</code> í”Œë˜ê·¸ ì„¤ì • (Signal Actionì—ì„œ ì´ìš©)</li></ul></li></ul><h2 id=signal-action>Signal Action</h2><ul><li>í”„ë¡œì„¸ìŠ¤ê°€ interrupt, exceptionì—ì„œ ëŒì•„ì˜¬ë•Œ<ul><li><code>ret_from_intr()</code>, <code>syscall_exit</code> ëŠ” ìœ ì €ëª¨ë“œë¡œ ëŒì•„ì˜¤ê¸° ì „ì— ë¸”ëŸ­ë˜ì§€ ì•Šì€ pending ì‹œê·¸ë„ì´ ìˆëŠ”ì§€ í™•ì¸ (<code>TIF_SIGPENDING</code>ì˜ ì¡´ì¬ë¥¼ í™•ì¸)</li><li>í”Œë˜ê·¸ê°€ ìˆìœ¼ë©´ <code>do_signal()</code></li></ul></li><li><code>do_signal()</code><ul><li>pending listì—ì„œ ì‹œê·¸ë„ ë¹¼ë‚´ê¸° (blocked ì œì™¸)</li><li>ì‹œê·¸ë„ì„ ì ì ˆíˆ ì²˜ë¦¬ (3ê°€ì§€ì¤‘ í•œê°€ì§€ í–‰ë™ ì„ íƒ)</li><li>nonblocked pending signalì´ ì—†ì„ë•Œê¹Œì§€ do_signal()ì„ ë°˜ë³µ</li></ul></li><li>ì‹œê·¸ë„ ì²˜ë¦¬í•˜ëŠ” í–‰ë™<ol><li>ì‹œê·¸ë„ ë¬´ì‹œ</li><li>ì‹œê·¸ë„ì˜ ê¸°ë³¸ í–‰ë™ ì‹¤í–‰<ul><li>Terminate : í”„ë¡œì„¸ìŠ¤ ëë‚´ê¸° (kill)</li><li>Dump : í”„ë¡œì„¸ìŠ¤ ëë‚´ê³  core file ìƒì„±</li><li>Ignore : ì‹œê·¸ë„ ë¬´ì‹œ</li><li>Stop : TASK_STOPPED</li><li>Continue : í”„ë¡œì„¸ìŠ¤ê°€ ë©ˆì¶°ìˆìœ¼ë©´ TASK_RUNNING ìƒíƒœë¡œ ë³€ê²½</li></ul></li><li>signal handler í˜¸ì¶œ. <code>handle_signal()</code></li></ol></li><li>SIGKILL, SIGSTOPëŠ” ë¬´ì¡°ê±´ ê¸°ë³¸ í–‰ë™ì„ ìˆ˜í–‰<ul><li>ë¬´ì‹œ, blocked, signal handler ë¶ˆê°€ëŠ¥</li></ul></li><li><code>handle_signal()</code><ul><li>ì‹œê·¸ë„ í•¸ë“¤ëŸ¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì€ ìœ ì €ëª¨ë“œì™€ ì»¤ë„ ëª¨ë“œë¥¼ ë„˜ë‚˜ë“œëŠ” ë³µì¡í•œ ì‘ì—…ì´ë‹¤.</li><li>ì‹œê·¸ë„ ì²˜ë¦¬ì˜ ì‹œì‘ì¸ <code>do_signal()</code>ì€ ì»¤ë„ëª¨ë“œì¸ë° ì‹œê·¸ë„ í•¸ë“¤ëŸ¬ëŠ” ìœ ì €ëª¨ë“œì´ë‹¤.</li><li>ì»¤ë„ëª¨ë“œì—ì„œ ìœ ì €ëª¨ë“œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤.</li></ul></li><li>ë¦¬ëˆ…ìŠ¤ì˜ ë°©ì‹<ul><li>í˜„ì¬ í”„ë¡œì„¸ìŠ¤ì˜ ì»¤ë„ëª¨ë“œ ìŠ¤íƒì˜ Hardware contextë¥¼ ìœ ì €ëª¨ë“œ ìŠ¤íƒìœ¼ë¡œ ë³µì‚¬</li><li>ì‹œê·¸ë„ í•¸ë“¤ëŸ¬ê°€ ëë‚ ë•Œ <code>sigreturn()</code> ìë™ìœ¼ë¡œ í˜¸ì¶œí•´ì„œ hardware contextë¥¼ ì»¤ë„ìŠ¤íƒìœ¼ë¡œ ë³µì‚¬. ìœ ì €ëª¨ë“œ ìŠ¤íƒì„ ì›ë˜ë„ ë˜ëŒë¦¼</li></ul></li></ul><h2 id=real-time-signals-in-linux>Real-time Signals in Linux</h2><ul><li>POSIX í‘œì¤€ì— ì •ì˜ë˜ì–´ ìˆë‹¤.<ul><li>32~63ë²ˆ</li><li>queueë˜ëŠ” ì‹œê·¸ë„</li></ul></li><li>ë¦¬ëˆ…ìŠ¤ëŠ” í¸ë²•ìœ¼ë¡œ real-time signalì„ ì§€ì›<ul><li>ì§„ì •í•œ real-time signalì´ ì•„ë‹ˆë‹¤</li><li>real-time signalì€ pending signal listì— ê°™ì€ íƒ€ì…ì˜ ì‹œê·¸ë„ì„ 1ê°œ ì´ìƒ ì¶”ê°€í•˜ëŠ” ê²ƒì„ í—ˆìš©</li></ul></li></ul></div><div class=tags><a href=https://if1live.github.io/tags/linux/>linux</a>
<a href=https://if1live.github.io/tags/system-programming/>system programming</a>
<a href=https://if1live.github.io/tags/signal/>signal</a></div><hr><div class=pagination><div class="left pagination-item"><a href=https://if1live.github.io/posts/system-prog-system-call/>ğŸ¡° System Calls</a></div><div class="right pagination-item"><a href=https://if1live.github.io/posts/system-prog-kernel-synchronization/>Kernel Synchronization ğŸ¡²</a></div></div><div class=see-also><h2>See Also</h2><ul><li><a href=/posts/system-prog-system-call/>System Calls</a></li><li><a href=/posts/system-prog-timing-measurements/>Timing Measurements</a></li><li><a href=/posts/sytem-prog-study-interrupt-and-exceptions/>Interrupt and Exceptions</a></li><li><a href=/posts/system-prog-linux-process-schduling/>Linux Process Scheduling</a></li><li><a href=/posts/system-prog-linux-processes/>Linux Processes</a></li></ul></div><div id=comment><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//libsora.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></section></div><footer class=sora-footer><p><a href=//gohugo.io/ title=Hugo>Hugo</a> |
<a href=//twitter.com/if1live/ title=@if1live>@if1live</a></p></footer><script src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js integrity="sha512-BttltKXFyWnGZQcRWj6osIg7lbizJchuAMotOkdLxHxwt/Hyo+cl47bZU0QADg+Qt5DJwni3SbYGXeGMB5cBcw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-clike.min.js integrity="sha512-/Rynaa6ehLZJO9fdk+EUsgiOdJqFSFUB4Qgy+gP4vU4U1DrmPJWypfXe1CgyaV7rRdZjGxdpLe9djxhx1ZHvqQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js integrity="sha512-8VrjxGFLIkS0mgEmO3p46A5OkqATHhrNVwyv2V7yUeZrk1jmSDuI3SOEpC9XHEHUWEOsfzzcJeBlUkee9lKGrw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js integrity="sha512-namzGTZvHaug0jeipHRN2pMepMiJj+EbrloktVFlMYGnA0EwZhbdLeENjBYLCgoghVbZGinIz/FFYHmB0o3wLw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js integrity="sha512-uOw7XYETzS/DPmmirpP5UCMihSDNMeyTS965J0/456OSPfxn9xEtHHjj5Q/5WefVdqyMfN/afmQnNpZd/tpkcA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js integrity="sha512-AKaNmg8COK0zEbjTdMHJAPJ0z6VeNqvRvH4/d5M4sHJbQQUToMBtodq4HaV4fa+WV2UTfoperElm66c9/8cKmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js integrity="sha512-jwrwRWZWW9J6bjmBOJxPcbRvEBSQeY4Ad0NEXSfP0vwYi/Yu9x5VhDBl3wz6Pnxs8Rx/t1P8r9/OHCRciHcT7Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js integrity="sha512-xKcnbsdT0KMoA4yrozkqZM1XJVTrPsjdQwvigxlAlxEDu8YDvC/jl+LfVqn0fY3Vs6m2y4a89JCHEIA/Z9zpmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-csharp.min.js integrity="sha512-pmt3kb6dRndjFXFFwCa3rSzuUQ0GjeCfC5QULWde+8ZBIsUzuP1heOIOSAMfAyXHSufrrTp8h7UHw85K4IJ2/g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js integrity="sha512-whYhDwtTmlC/NpZlCr6PSsAaLOrfjVg/iXAnC4H/dtiHawpShhT2SlIMbpIhT/IL/NrpdMm+Hq2C13+VKpHTYw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-ruby.min.js integrity="sha512-/Dti0iV9cxgJe8r0U/89YJIv9ZBQu1ExEWffVyBj4juMQ4GNglQ3TQ0Up4gcbiHvg0g87arcUFbKBtw2PxH1Dw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js integrity="sha512-w200Nz1i9KgDNi+IpPMgpZBVRIvfVK/V5vskyHjkz7XJkVnRJcb1uNmpiHhDv0/Ln+GG2VqScKKz/1izBfg64Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-less.min.js integrity="sha512-lL5HvfIycntK04Iiai/VTsyuj7mvDkhz9k+cA8fqXr932s4jLJ1YwplIs6Dhpw0pzVwAe1jGe8sGwbyuHG44QQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-scss.min.js integrity="sha512-aczOaJ+mB9uGT6dMJbDaUsS2PWG+XII+1ypFQ0L22Z132V6kMM6m70pQssXsPAFmLI5xkgx/hknBuUuJIJKZfA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js integrity="sha512-uMdVuOpm+9lNPCT7mV/YaMb9YQ/R4+eeON7aEMj6Ig/f4BoU+Q5k6iaZkDsX7LH9cjTHZt0CuKxbzd0/fndrWA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js integrity="sha512-QXFMVAusM85vUYDaNgcYeU3rzSlc+bTV4JvkfJhjxSHlQEo+ig53BtnGkvFTiNJh8D+wv6uWAQ2vJaVmxe8d3w==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js integrity="sha512-6O/PZimM3TD1NN3yrazePA4AbZrPcwt1QCGJrVY7WoHDJROZFc9TlBvIKMe+QfqgcslW4lQeBzNJEJvIMC8WhA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-batch.min.js integrity="sha512-tPgIjUKiv2HcUAIWXA3v6G4cNuWXkoMsF+ibxfHLnp+/s1C3Bw5/qp78+JjhrfoyWIiHXHx0LtH4M/LAwyQqWg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lisp.min.js integrity="sha512-W461RnQzrhSCQQMfEGFKOHbK2DuJTVxrXs2PzctPaxV3A+qPB/TcnMgucSsBNkyccNK8VoENBsAnbf/SuBE71g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin=anonymous></script>
<script>renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]});for(var inlineMathArray=document.querySelectorAll("script[type='math/tex']"),inlineMath,tex,replaced,displayMathArray,displayMath,i=0;i<inlineMathArray.length;i++)inlineMath=inlineMathArray[i],tex=inlineMath.innerText||inlineMath.textContent,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex,{displayMode:!1}),inlineMath.parentNode.replaceChild(replaced,inlineMath);displayMathArray=document.querySelectorAll("script[type='math/tex; mode=display']");for(i=0;i<displayMathArray.length;i++)displayMath=displayMathArray[i],tex=displayMath.innerHTML,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex.replace(/%.*/g,""),{displayMode:!0}),displayMath.parentNode.replaceChild(replaced,displayMath)</script></body></html>