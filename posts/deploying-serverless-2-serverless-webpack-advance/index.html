<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.116.1"><title>serverless ë°°í¬í•˜ê¸° (2) serverless-webpack ê¸°ë°˜ìœ¼ë¡œ ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸° ì¤„ì´ê¸° - if1live space</title><meta name=author content="if1live"><meta name=title content="serverless ë°°í¬í•˜ê¸° (2) serverless-webpack ê¸°ë°˜ìœ¼ë¡œ ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸° ì¤„ì´ê¸°"><meta name=description content="ì´ì „ê¸€ì—ì„œëŠ” serverless-webpackë¥¼ ì‚¬ìš©í•´ì„œ ëŒë‹¤ ë°°í¬í•˜ëŠ”ê±¸ ë‹¤ë¤˜ë‹¤. ë°°í¬ íŒ¨í‚¤ì§€ì˜ í¬ê¸°ëŠ” 21.18 MB (21,685KB) ì˜€ë‹¤. 2ë¶€ì—ì„œëŠ” ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸°ë¥¼ ì¤„ì´"><meta name=keywords content="serverless"><meta name=naver-site-verification content="2ddc1a56777489f4a64a4f6a59822f8b1c1ea502"><meta name=google-site-verification content="VsvNNnJZUV-iLEYKNju16p-HtDqZeqL15H-VVy-HwpA"><meta name=gc:client-id content="785d47c81cbc2fd42b65"><meta name=gc:client-secret content="5e5d558f0b16fae154aa47fc9d94f7c09e540ec7"><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><script type=text/javascript>var host="if1live.github.io";host==window.location.host&&window.location.protocol!="https:"?window.location.protocol="https":console.log("skip https redirect")</script><link rel=stylesheet href=/css/style.ad6245cc6a90c30a30dba42b8bbe9be63bed9ea169e339d8ecfc6b9afc6eb8382bbd422b2d31dc71c3355c79f057ddcaa7e1ca96b5eb7f5f16a28a34e74051db.css integrity="sha512-rWJFzGqQwwow26Qri76b5jvtnqFp4znY7PxrmvxuuDgrvUIrLTHcccM1XHnwV93Kp+HKlrXrf18Wooo050BR2w=="><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css integrity="sha512-cbQXwDFK7lj2Fqfkuxbo5iD1dSbLlJGXGpfTDqbggqjHJeyzx88I3rfwjS38WJag/ihH7lzuGlGHpDBymLirZQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin=anonymous><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-3043297488880636",enable_page_level_ads:!0})</script><meta property="og:title" content="serverless ë°°í¬í•˜ê¸° (2) serverless-webpack ê¸°ë°˜ìœ¼ë¡œ ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸° ì¤„ì´ê¸°"><meta property="og:description" content="ì´ì „ê¸€ì—ì„œëŠ” serverless-webpackë¥¼ ì‚¬ìš©í•´ì„œ ëŒë‹¤ ë°°í¬í•˜ëŠ”ê±¸ ë‹¤ë¤˜ë‹¤. ë°°í¬ íŒ¨í‚¤ì§€ì˜ í¬ê¸°ëŠ” 21.18 MB (21,685KB) ì˜€ë‹¤. 2ë¶€ì—ì„œëŠ” ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸°ë¥¼ ì¤„ì´"><meta property="og:type" content="article"><meta property="og:url" content="https://if1live.github.io/posts/deploying-serverless-2-serverless-webpack-advance/"><meta property="og:image" content="https://www.gravatar.com/avatar/fb9672e7e0d256f39369595381d1ea07?size=160"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-08-01T23:00:00+09:00"><meta property="article:modified_time" content="2021-08-01T23:00:00+09:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.gravatar.com/avatar/fb9672e7e0d256f39369595381d1ea07?size=160"><meta name=twitter:title content="serverless ë°°í¬í•˜ê¸° (2) serverless-webpack ê¸°ë°˜ìœ¼ë¡œ ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸° ì¤„ì´ê¸°"><meta name=twitter:description content="ì´ì „ê¸€ì—ì„œëŠ” serverless-webpackë¥¼ ì‚¬ìš©í•´ì„œ ëŒë‹¤ ë°°í¬í•˜ëŠ”ê±¸ ë‹¤ë¤˜ë‹¤. ë°°í¬ íŒ¨í‚¤ì§€ì˜ í¬ê¸°ëŠ” 21.18 MB (21,685KB) ì˜€ë‹¤. 2ë¶€ì—ì„œëŠ” ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸°ë¥¼ ì¤„ì´"><meta name=twitter:site content="@if1live"><script async src="https://www.googletagmanager.com/gtag/js?id=G-SKE54STL16"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SKE54STL16",{anonymize_ip:!1})}</script></head><body><nav class=sora-navigation><a href=/ title=home><h1>if1live space</h1></a><ul class=menu-button-list><li><a href=/posts title=archive><i class="fa-solid fa-box-archive"></i>
<span hidden>archive</span></a></li><li><a href=/tags title=tags><i class="fa-solid fa-tags"></i>
<span hidden>tags</span></a></li><li><a href=//github.com/if1live title=GitHub><i class="fa-brands fa-github"></i>
<span hidden>GitHub</span></a></li><li><a href=/about title=about><i class="fa-solid fa-info"></i>
<span hidden>about</span></a></li><li><a href=https://if1live.github.io/index.xml title=RSS><i class="fa-solid fa-rss"></i>
<span hidden>RSS</span></a></li></ul></nav><div class=main><section id=single><h1 class=title><span>serverless ë°°í¬í•˜ê¸° (2) serverless-webpack ê¸°ë°˜ìœ¼ë¡œ ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸° ì¤„ì´ê¸°</span></h1><div class=tip><time datetime="2021-08-01 23:00:00 +0900 +0900">2021. 08. 01</time></div><div class=content><p><a href=/posts/deploying-serverless-1-serverless-webpack-beginning>ì´ì „ê¸€</a>ì—ì„œëŠ” serverless-webpackë¥¼ ì‚¬ìš©í•´ì„œ ëŒë‹¤ ë°°í¬í•˜ëŠ”ê±¸ ë‹¤ë¤˜ë‹¤.
ë°°í¬ íŒ¨í‚¤ì§€ì˜ í¬ê¸°ëŠ” 21.18 MB (21,685KB) ì˜€ë‹¤.
2ë¶€ì—ì„œëŠ” ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” í¸ë²•ì„ ë‹¤ë£¬ë‹¤.</p><h2 id=ì™œ-ë°°í¬-íŒ¨í‚¤ì§€-í¬ê¸°ë¥¼-ì¤„ì´ë‚˜>ì™œ ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸°ë¥¼ ì¤„ì´ë‚˜?</h2><p>ë°°í¬ íŒ¨í‚¤ì§€ (.zip íŒŒì¼ ì•„ì¹´ì´ë¸Œ)ëŠ” <a href=https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/gettingstarted-limits.html>50MB</a>ë¡œ ì œí•œë˜ì–´ìˆê³  ë‹¹ë¶„ê°„ ëŠ˜ì–´ë‚˜ì§€ ì•Šì„ ê²ƒì´ë‹¤.
(ìµœê·¼ì— ì»¨í…Œì´ë„ˆ í˜•íƒœë¡œ ëŒë‹¤ ë°°í¬í•˜ëŠ” ë°©ë²•ì´ ì¶”ê°€ë˜ì—ˆë‹¤. ë°°í¬ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ì“°ë©´ 10GBê¹Œì§€ ë°°í¬í•  ìˆ˜ ìˆë‹¤.)
mysqlìš© ORM, dynamodbìš© ORM, lodashë§Œ ë„£ì—ˆì„ë¿ì¸ë° 20MBì´ë‹¤.
50MBëŠ” í°ê±° ê°™ìœ¼ë©´ì„œë„ ìƒê°ë³´ë‹¤ ì‘ë‹¤. ê°œë°œí•˜ë©´ì„œ íŒ¨í‚¤ì§€ë¥¼ ì´ê²ƒì €ê²ƒ ì¶”ê°€í•˜ë‹¤ë³´ë©´ 50MBë¥¼ ë„˜ì„ ìˆ˜ ìˆë‹¤.</p><p>zipì— í¬í•¨ë  íŒŒì¼ ìˆ˜ê°€ ì¤„ì–´ë“¤ë©´ zip ìƒì„±ì´ ë¹¨ë¼ì§„ë‹¤.
<code>npx sls webpack</code>ì„ ëŒë ¤ì„œ <code>.webpack/</code>ë¥¼ ìƒì„±í•˜ì.
ìƒì„±ëœ <code>.webpack/service/</code> ë””ë ‰í† ë¦¬ì˜ ë‚´ìš©ê³¼ <code>.webpack/xxx.zip</code> ë‚´ë¶€ë¥¼ ë³´ë©´ ë‘˜ì€ ê°™ë‹¤.
<code>.webpack/service/</code>ì˜ ë‚´ìš©ë¬¼ì„ ì§€ìš°ë©´ ë°°í¬ íŒ¨í‚¤ì§€ì˜ í¬ê¸°ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.</p><p>ë°°í¬ íŒ¨í‚¤ì§€ì˜ í¬ê¸°ê°€ ì‘ì„ìˆ˜ë¡ <a href=https://mikhail.io/serverless/coldstarts/aws/>cold start ì‹œê°„ì´ ì§§ì•„ì§„ë‹¤ëŠ” ì´ì•¼ê¸°</a>ê°€ ìˆë‹¤.
í•˜ì§€ë§Œ ë°°í¬ íŒ¨í‚¤ì§€ì˜ í¬ê¸°ì™€ <a href=https://acloudguru.com/blog/engineering/does-coding-language-memory-or-package-size-affect-cold-starts-of-aws-lambda>cold start ì‹œê°„ì´ ê´€ê³„ ì—†ë‹¤ëŠ” ì´ì•¼ê¸°</a>ë„ ìˆë‹¤.
ì ì–´ë„ ë°°í¬ íŒ¨í‚¤ì§€ì˜ í¬ê¸°ê°€ ì‘ì„ë•Œ cold start ì‹œê°„ì´ ëŠ˜ì–´ë‚˜ì§„ ì•Šì„ ê²ƒì´ë‹¤.</p><p>ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸°ë¥¼ ì¤„ì´ëŠ” ë°©ë²•ì€ ê°„ë‹¨í•˜ë‹¤.
ëŸ°íƒ€ì„ì— í„°ì§€ì§€ ì•ŠëŠ” ë²”ìœ„ì—ì„œ ì“¸ëª¨ì—†ëŠ” íŒŒì¼ì„ ë°°í¬ì—ì„œ ëº€ë‹¤.
ì´ˆê¸° ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸° 21,685KB ë¶€í„° ì¤„ì—¬ë‚˜ê°„ë‹¤.</p><h2 id=typesxxx>@types/xxx</h2><p><code>@types/</code>ì— ìˆëŠ” íŒ¨í‚¤ì§€ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ì •ì˜ì´ë‹¤.
node ëŸ°íƒ€ì„ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ëŒë¦¬ë‹ˆê¹Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì™€ ê´€ë ¨ëœ ì½”ë“œëŠ” í•„ìš”ì—†ë‹¤.
<a href=https://github.com/serverless-heaven/serverless-webpack#custom-scripts>https://github.com/serverless-heaven/serverless-webpack#custom-scripts</a>
serverless-webpack ë¬¸ì„œë¥¼ ë³´ë©´ ë¹Œë“œ ê³¼ì •ì— ìŠ¤í¬ë¦½íŠ¸ ë¼ì›Œë„£ëŠ” ë°©ë²•ì´ ë‚˜ì˜¨ë‹¤.
ì´ë¥¼ ì‚¬ìš©í•´ì„œ <code>@types</code>ë¥¼ í†µì§¸ë¡œ ì§€ìš´ë‹¤.
OSë¥¼ ì‹ ê²½ì“°ì§€ ì•Šê³  íŒŒì¼ì„ ì§€ìš°ë ¤ê³  <a href=https://www.npmjs.com/package/rimraf>rimraf</a>ë¥¼ ì»ë‹¤.</p><pre><code class="language-yaml line-numbers">custom:
  webpack:
    packagerOptions:
      scripts:
        - npx rimraf &#34;node_modules/@types&#34;</code></pre><p>ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸°: 21,303KB (-382KB)</p><h2 id=ëŸ°íƒ€ì„ì—-í•„ìš”-ì—†ëŠ”-íŒŒì¼>ëŸ°íƒ€ì„ì— í•„ìš” ì—†ëŠ” íŒŒì¼</h2><p>ìœ ë‹›í…ŒìŠ¤íŠ¸, ì†ŒìŠ¤ë§µì€ ëŸ°íƒ€ì„ì— ì—†ì–´ë„ ëœë‹¤. ë°°í¬ì—ì„œ ë¹¼ì.
<a href=https://github.com/serverless-heaven/serverless-webpack#exclude-files-with-regular-expression>https://github.com/serverless-heaven/serverless-webpack#exclude-files-with-regular-expression</a>
serverless-webpack ë¬¸ì„œì— ì •ê·œì‹ìœ¼ë¡œ íŒ¨í‚¤ì§•ì—ì„œ ì œì™¸í•˜ëŠ” ë°©ë²•ì´ ë‚˜ì˜¨ë‹¤. ê·¸ëŒ€ë¡œ ì ìš©í•˜ì.</p><pre><code class="language-yaml line-numbers">custom:
  webpack:
    excludeRegex: \.ts|test|\.map</code></pre><p>ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸°: 12,173KB (-9,130KB)</p><h2 id=aws-lambda-ë‚´ì¥-íŒ¨í‚¤ì§€-ì ìš©>AWS Lambda ë‚´ì¥ íŒ¨í‚¤ì§€ ì ìš©</h2><p>AWS Lambdaì—ëŠ” node.jsë§Œ ê¹”ë ¤ìˆëŠ”ê²Œ ì•„ë‹ˆë‹¤. aws-sdkë„ ê¹”ë ¤ìˆë‹¤.
<a href=https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/lambda-runtimes.html>Lambda ëŸ°íƒ€ì„</a>ì„ ë³´ë©´ 21ë…„ 8ì›” 1ì¼ ê¸°ì¤€ìœ¼ë¡œ SDK for JavaScript 2.880.0ê°€ ì„¤ì¹˜ë˜ì–´ìˆë‹¤.
2.880.0 ì´ìƒì˜ ë²„ì „ì´ ê¼­ í•„ìš”í•œê²Œ ì•„ë‹ˆë©´ ë°°í¬ íŒ¨í‚¤ì§•ì—ì„œ aws-sdkë¥¼ ì œê±°í•  ìˆ˜ ìˆë‹¤.</p><p><a href=https://github.com/serverless-heaven/serverless-webpack#aws-sdk>https://github.com/serverless-heaven/serverless-webpack#aws-sdk</a>
aws-sdk ì œì™¸í•˜ëŠ”ê±´ ë§ì€ ì‚¬ëŒë“¤ì´ ì“°ëŠ” ê¸°ëŠ¥ì´ë¼ì„œ serverless-webpack ë¬¸ì„œì—ì„œë„ ë‹¤ë£¬ë‹¤.
ê·¸ëŒ€ë¡œ ì ìš©í•˜ì.</p><pre><code class="language-yaml line-numbers">custom:
  webpack:
    includeModules:
      forceExclude:
        - aws-sdk</code></pre><p>ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸°: 12,173KB (-0KB)</p><p>ì–´??? ìš©ëŸ‰ì´ ì¤„ì§€ ì•Šì•˜ë‹¤? zipì„ ì—´ì–´ë³´ë©´ aws-sdkê°€ ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆë‹¤.</p><h2 id=ì™œ-forceexcludeê°€-ì‘ë™í•˜ì§€-ì•ŠëŠ”ê°€>ì™œ forceExcludeê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ”ê°€?</h2><p>serverless-webpackì€ ì§ì ‘ ì¶”ê°€í•œ íŒ¨í‚¤ì§€ëŠ” ì˜ì¡´ì„±ì—ì„œ ëº„ ìˆ˜ ìˆì§€ë§Œ ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì— ì˜í•´ì„œ ê°„ì ‘ì ìœ¼ë¡œ ë“¤ì–´ê°„ íŒ¨í‚¤ì§€ëŠ” ë¹¼ì§€ ì•ŠëŠ”ë‹¤.
<a href=https://github.com/serverless-heaven/serverless-webpack/issues/306#issuecomment-435888529>Allow force excluding deep dependencies</a></p><p>dynamo-types 2.10.1ì—ëŠ” dependenciesë¡œ aws-sdk <code>^2.538.0</code>ê°€ ë“¤ì–´ìˆë‹¤.
<a href=https://github.com/balmbees/dynamo-types/blob/v2.10.1/package.json#L50>https://github.com/balmbees/dynamo-types/blob/v2.10.1/package.json#L50</a>
ì§ì ‘ ì¶”ê°€í•œ aws-sdkëŠ” forceExlucdeì— ì˜í•´ì„œ ì œì™¸ë˜ì—ˆì§€ë§Œ dynamo-typesì— ì˜í•´ì„œ aws-sdkê°€ ë‹¤ì‹œ ëŒë ¤ë“¤ì–´ê°„ë‹¤.</p><p>ë˜‘ë˜‘í•œ ë°©ë²•ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ì—†ì„ë• ë¬´ì‹í•œ ë°©ë²•ì„ ì“°ë©´ ëœë‹¤.
node_modulesì—ì„œ ì§ì ‘ ì§€ìš´ë‹¤.</p><pre><code class="language-yaml line-numbers">custom:
  webpack:
    packagerOptions:
      scripts:
        - npx rimraf &#34;node_modules/aws-sdk&#34;</code></pre><p>ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸°: 6,901KB (-5,272KB)</p><h2 id=typeorm-ìµœì í™”>typeorm ìµœì í™”</h2><p>ë°°í¬ íŒ¨í‚¤ì§€ zip íŒŒì¼ì„ ì§ì ‘ ëœ¯ì–´ë³´ë©´ í¬ê¸°ë¥¼ ì¤„ì¼ ìˆ˜ ìˆëŠ” íŒíŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤.
figlet ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì••ì¶•ëœ í¬ê¸° 1.26MB ì”©ì´ë‚˜ ì°¨ì§€í•˜ê³  ìˆëŠ”ê²Œ ë³´ì¸ë‹¤.</p><p><p class=markdown-image><img src=artifact-figlet.png alt=figlet></p></p><p>figlet ê°™ì´ ê±°ëŒ€í•œ íŒ¨í‚¤ì§€ê°€ ëŒ€ì²´ ì–´ë–»ê²Œ ëŒë ¤ë“¤ì–´ê°„ê±´ê°€? ì´ê±¸ ì œê±°í•  ë°©ë²•ì´ ìˆë‚˜?
ëœ¯ìœ¼ë©´ ë‹µì´ ë‚˜ì˜¨ë‹¤.
typeormì€ yargonautë¥¼ ì‚¬ìš©í•˜ê³  yargonautê°€ figletë¥¼ ì‚¬ìš©í•œë‹¤.
typeormì—ì„œ yargonautë¥¼ ëŸ°íƒ€ì„ì— ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ figletë¥¼ ì§€ì›Œë„ ëŸ°íƒ€ì„ì— ë¬¸ì œê°€ ìƒê¸°ì§€ ì•Šì„ ê²ƒì´ë‹¤.
ë‹¤í–‰íˆë„ typeormì˜ ê²½ìš°ëŠ” <a href=https://github.com/typeorm/typeorm/blob/0.2.36/src/cli.ts#L43>cli ëª…ë ¹</a>ì—ì„œë§Œ yargonautë¥¼ ì‚¬ìš©í•œë‹¤. figletë¥¼ ì§€ìš´ë‹¤.</p><pre><code class="language-yaml line-numbers">custom:
  webpack:
    packagerOptions:
      scripts:
        - npx rimraf &#34;node_modules/figlet&#34;</code></pre><p>ë°°í¬ íŒ¨í‚¤ì§€ í¬ê¸°: 5,503KB (-1,398KB)</p><p>ì´ê±´ typeormì—ë§Œ ì ìš©í•  ìˆ˜ ìˆëŠ” í¸ë²•ì´ë‹¤.
ë¼ì´ë¸ŒëŸ¬ë¦¬ ì½”ë“œë¥¼ ì§ì ‘ ì—´ì–´ë³´ê³  ëŸ°íƒ€ì„ì— ë¬¸ì œê°€ ì—†ë‹¤ê³  í™•ì‹ í• ë•Œë§Œ í•  ìˆ˜ ìˆë‹¤.
ì˜ì¡´ì„± ê±¸ë¦° íŒ¨í‚¤ì§€ê°€ figlet ê°™ì´ ê±°ëŒ€í•œ ê²½ìš°ê°€ ì•„ë‹ˆë©´ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.
figletê°€ 300KBì¯¤ì´ì—ˆìœ¼ë©´ ë‚˜ë„ ì•ˆí–ˆë‹¤.</p><p>figlet ë•Œë¬¸ì— ëŒë‹¤ ë°°í¬ ìš©ëŸ‰ì´ ì»¤ì§€ëŠ”ê±´ typeorm ì—ë„ ì˜¬ë¼ì˜¨ ì´ìŠˆì¸ë° ì•„ì§ ì²˜ë¦¬ë˜ì§€ ì•Šì•˜ë‹¤. ì–¸ì œì¯¤ ì²˜ë¦¬ë ì§€&mldr;
<a href=https://github.com/typeorm/typeorm/issues/678>Are yargonaut and figlet required at run-time?</a></p><h2 id=result>result</h2><p>21,685KB -> 5,503KB (-16,182KB)
ì²˜ìŒì˜ 25% ìˆ˜ì¤€ìœ¼ë¡œ ë°°í¬ íŒ¨í‚¤ì§€ì˜ í¬ê¸°ë¥¼ ì¤„ì˜€ë‹¤.
ì´ ê¸€ì—ì„œ ë‹¤ë£¬ ê¸°ë²•ì„ ì‘ìš©í•˜ë©´ 50MBë¥¼ ë„‰ë„‰í•˜ê²Œ ì“¸ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p><h2 id=next>next?</h2><p><code>.webpack/</code> ë””ë ‰í† ë¦¬ì˜ ë‚´ë¶€ë¥¼ ëœ¯ì–´ë³´ê³  serverless-webpackë¡œëŠ” ê³ ì¹˜ê¸° ì–´ë ¤ìš´ ë¬¸ì œë¥¼ ì•Œì•„ë³¸ë‹¤.</p></div><div class=tags><a href=https://if1live.github.io/tags/serverless/>serverless</a></div><hr><div class=pagination><div class="left pagination-item"><a href=https://if1live.github.io/posts/deploying-serverless-1-serverless-webpack-beginning/>ğŸ¡° serverless ë°°í¬í•˜ê¸° (1) serverless-webpack ì´ˆê¸‰</a></div><div class="right pagination-item"><a href=https://if1live.github.io/posts/deploying-serverless-3-flaw-of-serverless-webpack/>serverless ë°°í¬í•˜ê¸° (3) serverless-webpackì˜ ê²°í•¨ ğŸ¡²</a></div></div><div class=see-also><h2>See Also</h2><ul><li><a href=/posts/deploying-serverless-1-serverless-webpack-beginning/>serverless ë°°í¬í•˜ê¸° (1) serverless-webpack ì´ˆê¸‰</a></li><li><a href=/posts/trap-callback-waits-for-empty-event-loop/>callbackWaitsForEmptyEventLoopì™€ AWS Lambdaì˜ í•¨ì •</a></li><li><a href=/posts/serverless-framework-plugins/>serverless framework plugins</a></li></ul></div><div id=comment><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//libsora.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></section></div><footer class=sora-footer><p><a href=//gohugo.io/ title=Hugo>Hugo</a> |
<a href=//twitter.com/if1live/ title=@if1live>@if1live</a></p></footer><script src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js integrity="sha512-BttltKXFyWnGZQcRWj6osIg7lbizJchuAMotOkdLxHxwt/Hyo+cl47bZU0QADg+Qt5DJwni3SbYGXeGMB5cBcw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-clike.min.js integrity="sha512-/Rynaa6ehLZJO9fdk+EUsgiOdJqFSFUB4Qgy+gP4vU4U1DrmPJWypfXe1CgyaV7rRdZjGxdpLe9djxhx1ZHvqQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-c.min.js integrity="sha512-8VrjxGFLIkS0mgEmO3p46A5OkqATHhrNVwyv2V7yUeZrk1jmSDuI3SOEpC9XHEHUWEOsfzzcJeBlUkee9lKGrw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-cpp.min.js integrity="sha512-namzGTZvHaug0jeipHRN2pMepMiJj+EbrloktVFlMYGnA0EwZhbdLeENjBYLCgoghVbZGinIz/FFYHmB0o3wLw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js integrity="sha512-uOw7XYETzS/DPmmirpP5UCMihSDNMeyTS965J0/456OSPfxn9xEtHHjj5Q/5WefVdqyMfN/afmQnNpZd/tpkcA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js integrity="sha512-AKaNmg8COK0zEbjTdMHJAPJ0z6VeNqvRvH4/d5M4sHJbQQUToMBtodq4HaV4fa+WV2UTfoperElm66c9/8cKmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js integrity="sha512-jwrwRWZWW9J6bjmBOJxPcbRvEBSQeY4Ad0NEXSfP0vwYi/Yu9x5VhDBl3wz6Pnxs8Rx/t1P8r9/OHCRciHcT7Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js integrity="sha512-xKcnbsdT0KMoA4yrozkqZM1XJVTrPsjdQwvigxlAlxEDu8YDvC/jl+LfVqn0fY3Vs6m2y4a89JCHEIA/Z9zpmQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-csharp.min.js integrity="sha512-pmt3kb6dRndjFXFFwCa3rSzuUQ0GjeCfC5QULWde+8ZBIsUzuP1heOIOSAMfAyXHSufrrTp8h7UHw85K4IJ2/g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js integrity="sha512-whYhDwtTmlC/NpZlCr6PSsAaLOrfjVg/iXAnC4H/dtiHawpShhT2SlIMbpIhT/IL/NrpdMm+Hq2C13+VKpHTYw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-ruby.min.js integrity="sha512-/Dti0iV9cxgJe8r0U/89YJIv9ZBQu1ExEWffVyBj4juMQ4GNglQ3TQ0Up4gcbiHvg0g87arcUFbKBtw2PxH1Dw==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js integrity="sha512-w200Nz1i9KgDNi+IpPMgpZBVRIvfVK/V5vskyHjkz7XJkVnRJcb1uNmpiHhDv0/Ln+GG2VqScKKz/1izBfg64Q==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-less.min.js integrity="sha512-lL5HvfIycntK04Iiai/VTsyuj7mvDkhz9k+cA8fqXr932s4jLJ1YwplIs6Dhpw0pzVwAe1jGe8sGwbyuHG44QQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-scss.min.js integrity="sha512-aczOaJ+mB9uGT6dMJbDaUsS2PWG+XII+1ypFQ0L22Z132V6kMM6m70pQssXsPAFmLI5xkgx/hknBuUuJIJKZfA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js integrity="sha512-uMdVuOpm+9lNPCT7mV/YaMb9YQ/R4+eeON7aEMj6Ig/f4BoU+Q5k6iaZkDsX7LH9cjTHZt0CuKxbzd0/fndrWA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js integrity="sha512-QXFMVAusM85vUYDaNgcYeU3rzSlc+bTV4JvkfJhjxSHlQEo+ig53BtnGkvFTiNJh8D+wv6uWAQ2vJaVmxe8d3w==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js integrity="sha512-6O/PZimM3TD1NN3yrazePA4AbZrPcwt1QCGJrVY7WoHDJROZFc9TlBvIKMe+QfqgcslW4lQeBzNJEJvIMC8WhA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-batch.min.js integrity="sha512-tPgIjUKiv2HcUAIWXA3v6G4cNuWXkoMsF+ibxfHLnp+/s1C3Bw5/qp78+JjhrfoyWIiHXHx0LtH4M/LAwyQqWg==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lisp.min.js integrity="sha512-W461RnQzrhSCQQMfEGFKOHbK2DuJTVxrXs2PzctPaxV3A+qPB/TcnMgucSsBNkyccNK8VoENBsAnbf/SuBE71g==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin=anonymous></script>
<script>renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]});for(var inlineMathArray=document.querySelectorAll("script[type='math/tex']"),inlineMath,tex,replaced,displayMathArray,displayMath,i=0;i<inlineMathArray.length;i++)inlineMath=inlineMathArray[i],tex=inlineMath.innerText||inlineMath.textContent,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex,{displayMode:!1}),inlineMath.parentNode.replaceChild(replaced,inlineMath);displayMathArray=document.querySelectorAll("script[type='math/tex; mode=display']");for(i=0;i<displayMathArray.length;i++)displayMath=displayMathArray[i],tex=displayMath.innerHTML,replaced=document.createElement("span"),replaced.innerHTML=katex.renderToString(tex.replace(/%.*/g,""),{displayMode:!0}),displayMath.parentNode.replaceChild(replaced,displayMath)</script></body></html>