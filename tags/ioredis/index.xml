<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ioredis on /usr/lib/libsora.so</title><link>https://if1live.github.io/tags/ioredis/</link><description>Recent content in ioredis on /usr/lib/libsora.so</description><generator>Hugo -- gohugo.io</generator><language>ko-kr</language><lastBuildDate>Thu, 09 Jul 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://if1live.github.io/tags/ioredis/index.xml" rel="self" type="application/rss+xml"/><item><title>ioredis에 로깅 끼워넣기</title><link>https://if1live.github.io/posts/ioredis-logging-with-monkey-patch/</link><pubDate>Thu, 09 Jul 2020 00:00:00 +0000</pubDate><guid>https://if1live.github.io/posts/ioredis-logging-with-monkey-patch/</guid><description>로깅의 필요성 요새 작업하고 있는 프로젝트에서 typeorm과 ioredis를 쓰고 있다. 기능이 검증된 코드를 짜기 위해서 유닛 테스트를 도배하고 있다. 하지만 유닛 테스트로는 성능을 확인할 순 없다. redis MSET 한번으로 될 일을 SET 100번 호출하고 있더라도 유닛테스트는 통과할 것이다.
최적화라는 빅-픽쳐를 위해 서버가 redis, rdbms로 요청 보낼때 로그를 남기기로 했다. 지정된 규격으로 로그를 찍으면 CloudWatch Logs를 통해서 elasticsearch에 저장되도록 만들고 싶다.
typeorm: custom logger typeorm은 로깅 갈아끼우는걸 기본적으로 지원한다. custom logger를 쓰면 된다고 한다.</description></item></channel></rss>